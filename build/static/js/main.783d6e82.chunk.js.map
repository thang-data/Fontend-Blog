{"version":3,"sources":["redux/types/commentType.ts","pages/blogs/[slug].tsx","pages/category.tsx","pages/forgot_password.tsx","pages/reset_password/[slug].tsx","pages/update_blog/[slug].tsx","utils/checkTokenExp.ts","components/editor/LiteQuill.tsx","components/comments/Input.tsx","components/comments/AvatarComment.tsx","components/comments/AvatarReply.tsx","redux/actions/commentAction.ts","components/comments/CommentList.tsx","components/comments/Comments.tsx","components/blog/DisplayBlog.tsx","pages/blog/[slug].tsx","components/auth/LoginPass.tsx","components/auth/LoginSMS.tsx","components/auth/SocialLogin.tsx","pages/login.tsx","components/profile/UserInfo.tsx","components/profile/OtherInfo.tsx","components/profile/UserBlogs.tsx","pages/profile/[slug].tsx","components/auth/RegisterForm.tsx","pages/register.tsx","redux/actions/authAction.ts","pages sync /^/.*$","redux/types/blogType.ts","redux/actions/blogAction.ts","redux/types/authType.ts","components/global/Loading.tsx","redux/types/alertType.ts","redux/types/categoryType.ts","PageRender.tsx","components/global/Search.tsx","components/global/Menu.tsx","components/global/Header.tsx","components/global/Footer.tsx","SocketClient.tsx","App.tsx","redux/reducers/authReducer.ts","redux/reducers/alertReducer.ts","redux/reducers/categoryReducer.ts","redux/reducers/homeBlogsReducer.ts","redux/reducers/blogsCategoryReducer.ts","redux/reducers/otherInfoReducer.ts","redux/reducers/blogsUserReducer.ts","redux/reducers/commentReducer.ts","redux/types/socketType.ts","redux/reducers/socketReducer.ts","redux/reducers/index.ts","redux/store.ts","index.tsx","utils/ImageUpload.ts","components/global/NotFound.tsx","utils/Valid.ts","redux/actions/userAction.ts","components/alert/Loading.tsx","components/alert/Toast.tsx","components/alert/Alert.tsx","components/global/Pagination.tsx","components/cards/CardHoriz.tsx","redux/actions/categoryAction.ts","components/cards/CreateForm.tsx","components/editor/ReactQuill.tsx","pages/create_blog.tsx","components/cards/CardVert.tsx","redux/types/profileType.ts","pages/index.tsx","utils/FetchData.ts","pages/active/[slug].tsx"],"names":["CREATE_COMMENT","GET_COMMENTS","REPLY_COMMENT","UPDATE_COMMENT","UPDATE_REPLY","DELETE_COMMENT","DELETE_REPLY","BlogsByCategory","useSelector","state","categories","blogsCategory","dispatch","useDispatch","slug","useParams","useState","categoryId","setCategoryId","blogs","setBlogs","total","setTotal","history","useHistory","search","location","useEffect","category","find","item","name","_id","every","id","getBlogsByCategoryId","data","push","className","map","blog","callback","num","Category","setName","edit","setEdit","auth","user","role","onSubmit","e","preventDefault","access_token","updateCategory","createCategory","htmlFor","style","cursor","onClick","type","value","onChange","target","window","confirm","deleteCategory","ForgotPassword","account","setAccount","maxWidth","forgotPassword","ResetPassword","token","password","setPassword","cf_password","setCfPassword","typePass","setTypePass","typeCfPass","setTypeCfPass","resetPassword","UpdateBlog","checkTokenExp","a","jwt_decode","exp","Date","now","getAPI","res","AUTH","payload","container","LiteQuill","body","setBody","modules","toolbar","theme","placeholder","Input","divRef","useRef","content","ref","dangerouslySetInnerHTML","__html","display","div","current","innerText","trim","undefined","AvatarComment","src","avatar","alt","to","AvatarReply","reply_user","textDecoration","getComments","comments","ALERT","errors","response","msg","CommentList","children","comment","showReply","setShowReply","onReply","setOnReply","handleDelete","result","comment_root","deleteAPI","Nav","newComment","patchAPI","blog_user_id","createdAt","toLocaleString","blog_id","replyCM","toISOString","postAPI","replyComment","Comments","next","setNext","opacity","pointerEvents","slice","index","length","color","DisplayBlog","showComments","setShowComments","loading","setLoading","fetchComments","useCallback","title","createComment","Loading","Pagination","DetailBlog","socket","setBlog","error","setError","then","catch","err","emit","showErrMsg","LoginPass","userLogin","setUserLogin","handleChangeInput","login","disabled","LoginSMS","phone","setPhone","loginSMS","SocialLogin","client_id","cookiepolicy","onSuccess","googleUser","id_token","getAuthResponse","googleLogin","appId","authResponse","accessToken","userID","facebookLogin","Login","sms","setSms","url","replace","UserInfo","setUser","updateUser","URL","createObjectURL","accept","files","file","defaultValue","NotFound","OtherInfo","other","setOther","otherInfo","getOtherInfo","newUser","UserBlogs","blogsUser","user_id","getBlogsByUserId","CardHoriz","Profile","RegisterForm","userRegister","setUserRegister","register","Register","success","localStorage","setItem","check","validRegister","errLength","errMsg","refreshToken","getItem","removeItem","logout","validPhone","valid","verifySMS","code","prompt","setTimeout","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","keys","Object","resolve","module","exports","GET_HOME_BLOGS","GET_BLOGS_CATEGORY_ID","GET_BLOGS_USER_ID","CREATE_BLOGS_USER_ID","DELETE_BLOGS_USER_ID","createBlog","thumbnail","imageUpload","photo","newBlog","getHomeBlogs","updateBlog","putAPI","deleteBlog","CREATE_CATEGORY","GET_CATEGORIES","UPDATE_CATEGORY","DELETE_CATEGORY","PageRender","page","React","createElement","require","default","generatePage","Search","setSearch","pathname","useLocation","delayDebounce","console","log","clearTimeout","background","zIndex","maxHeight","overflow","Menu","navLinks","label","path","isActive","pn","link","data-bs-toggle","aria-expanded","aria-labelledby","Header","position","top","left","data-bs-target","aria-controls","aria-label","Footer","SocketClient","on","off","App","getCategories","io","close","Alert","exact","component","authReducer","action","alertReducer","categoryReducer","types","filter","homeBlogsReducer","blogsCategoryReducer","otherInfoReducer","GET_OTHER_INFO","blogsUserReducer","initialState","commentReducer","rp","SOCKET","socketReducer","combineReducers","alert","homeBlogs","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","checkImage","size","includes","formData","FormData","append","fetch","method","json","public_id","secure_url","minHeight","transform","test","String","toLowerCase","checkPassword","validCreateBlog","description","shallowEqual","object1","object2","keys1","keys2","key","width","height","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","bgColor","right","minWidth","data-bs-dismiss","text","showSuccessMsg","setPage","newArr","Array","_","i","handlePagination","Number","aria-hidden","objectFit","newCategory","CreateForm","bottom","rows","resize","Quill","quillRef","handleChangeImage","input","click","onchange","quill","range","getEditor","getSelection","insertEmbed","getModule","addHandler","CreateBlog","initState","setText","oldData","setOldData","initData","handleSubmit","newData","ReactQuill","CardVert","textTransform","Home","homeBlog","count","post","axios","headers","Authorization","get","patch","put","delete","Active","setErr","setSuccess","active_token"],"mappings":"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","file":"static/js/main.783d6e82.chunk.js","sourcesContent":["import { IComment } from '../../utils/TypeScript'\n\nexport const CREATE_COMMENT = \"CREATE_COMMENT\"\nexport const GET_COMMENTS = \"GET_COMMENTS\"\nexport const REPLY_COMMENT = \"REPLY_COMMENT\"\nexport const UPDATE_COMMENT = \"UPDATE_COMMENT\"\nexport const UPDATE_REPLY = \"UPDATE_REPLY\"\nexport const DELETE_COMMENT = \"DELETE_COMMENT\"\nexport const DELETE_REPLY = \"DELETE_REPLY\"\n\nexport interface ICommentState {\n  data: IComment[],\n  total: number\n}\n\nexport interface ICreateCommentType {\n  type: typeof CREATE_COMMENT,\n  payload: IComment\n}\n\nexport interface IGetCommentsType {\n  type: typeof GET_COMMENTS,\n  payload: ICommentState\n}\n\nexport interface IReplyCommentType {\n  type: typeof REPLY_COMMENT,\n  payload: IComment\n}\n\nexport interface IUpdateType {\n  type: typeof UPDATE_COMMENT | typeof UPDATE_REPLY,\n  payload: IComment\n}\n\nexport interface IDeleteType {\n  type: typeof DELETE_COMMENT | typeof DELETE_REPLY,\n  payload: IComment\n}\n\n\n\nexport type ICommentType = \n| ICreateCommentType\n| IGetCommentsType\n| IReplyCommentType\n| IUpdateType\n| IDeleteType","import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getBlogsByCategoryId } from '../../redux/actions/blogAction'\n\nimport { RootStore, IParams, IBlog } from '../../utils/TypeScript'\n\nimport Loading from '../../components/global/Loading'\nimport Pagination from '../../components/global/Pagination'\nimport CardVert from '../../components/cards/CardVert'\n\n\nconst BlogsByCategory = () => {\n  const { categories, blogsCategory } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const { slug } = useParams<IParams>()\n\n  const [categoryId, setCategoryId] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location;\n\n  useEffect(() => {\n    const category = categories.find(item => item.name === slug)\n    if(category) setCategoryId(category._id)\n  },[slug, categories])\n\n\n  useEffect(() => {\n    if(!categoryId) return;\n\n    if(blogsCategory.every(item => item.id !== categoryId)){\n      dispatch(getBlogsByCategoryId(categoryId, search))\n    }else{\n      const data = blogsCategory.find(item => item.id === categoryId)\n      if(!data) return;\n      setBlogs(data.blogs)\n      setTotal(data.total)\n\n      if(data.search) history.push(data.search)\n    }\n  },[categoryId, blogsCategory, dispatch, search, history])\n  \n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByCategoryId(categoryId, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n  return (\n    <div className=\"blogs_category\">\n      <div className=\"show_blogs\">\n        {\n          blogs.map(blog => (\n            <CardVert key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n      \n      {\n        total > 1 &&\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      }\n     \n    </div>\n  )\n}\n\nexport default BlogsByCategory\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { FormSubmit, RootStore, ICategory } from '../utils/TypeScript'\n\nimport { createCategory, updateCategory, deleteCategory } from '../redux/actions/categoryAction'\n\nimport NotFound from '../components/global/NotFound'\n\nconst Category = () => {\n  const [name, setName] = useState('')\n  const [edit, setEdit] = useState<ICategory | null>(null)\n\n  const { auth, categories } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(edit) setName(edit.name)\n  },[edit])\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(!auth.access_token || !name) return;\n\n    if(edit){\n      if(edit.name === name) return;\n      const data = {...edit, name}\n      dispatch(updateCategory(data, auth.access_token))\n    }else{\n      dispatch(createCategory(name, auth.access_token))\n    }\n    setName('')\n    setEdit(null)\n  }\n\n\n  const handleDelete = (id: string) => {\n    if(!auth.access_token) return;\n    if(window.confirm('Are you sure to delete this category?')){\n      dispatch(deleteCategory(id, auth.access_token))\n    }\n  }\n\n\n  if(auth.user?.role !== 'admin') return <NotFound />\n  return (\n    <div className=\"category\">\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"category\">Category</label>\n\n        <div className=\"d-flex align-items-center\">\n          {\n            edit && <i className=\"fas fa-times me-2 text-danger\"\n            style={{cursor: 'pointer'}}\n            onClick={() => setEdit(null)} />\n          }\n          <input type=\"text\" name=\"category\" id=\"category\"\n          value={name} onChange={e => setName(e.target.value)} />\n\n          <button type=\"submit\">\n            { edit ? 'Update' : 'Create' }\n          </button>\n        </div>\n      </form>\n\n      <div>\n        {\n          categories.map(category => (\n            <div className=\"category_row\" key={category._id}>\n              <p className=\"m-0 text-capitalize\">{category.name}</p>\n\n              <div>\n                <i className=\"fas fa-edit mx-2\"\n                onClick={() => setEdit(category)} />\n                <i className=\"fas fa-trash-alt\"\n                onClick={() => handleDelete(category._id)} />\n              </div>\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Category\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { forgotPassword} from '../redux/actions/authAction'\n\nimport { FormSubmit} from '../utils/TypeScript'\n\nconst ForgotPassword = () => {\n  const [account, setAccount] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(forgotPassword(account))\n  }\n\n  return (\n    <div className=\"my-4\" style={{maxWidth: '500px'}}>\n      <h2>Forgot Password?</h2>\n\n      <form className=\"form-group\" onSubmit={handleSubmit}>\n        <label htmlFor=\"account\">Email / Phone Number</label>\n\n        <div className=\"d-flex align-items-center\">\n          <input type=\"text\" className=\"form-control\" id=\"account\"\n          name=\"account\" onChange={e => setAccount(e.target.value)}  />\n\n          <button className=\"btn btn-primary mx-2 d-flex align-items-center\"\n          type=\"submit\">\n            <i className=\"fas fa-paper-plane me-2\" /> Send\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default ForgotPassword\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { IParams, FormSubmit } from '../../utils/TypeScript'\n\nimport { resetPassword } from '../../redux/actions/userAction'\n\nconst ResetPassword = () => {\n  const token = useParams<IParams>().slug\n  const dispatch = useDispatch()\n\n  const [password, setPassword] = useState('')\n  const [cf_password, setCfPassword] = useState('')\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(resetPassword(password, cf_password, token))\n  }\n\n  return (\n    <div className=\"auth_page\">\n      <form className=\"auth_box\" onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\"> \n          Reset Password\n        </h3>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <div className=\"pass\">\n            <input type={typePass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={password} \n            onChange={e => setPassword(e.target.value)} \n            />\n            <small onClick={() => setTypePass(!typePass)}>\n              {typePass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form-group my-2\">\n          <label htmlFor=\"password\" className=\"form-label\">Confirm Password</label>\n          <div className=\"pass\">\n            <input type={typeCfPass ? \"text\" : \"password\"} \n            className=\"form-control\" \n            id=\"password\"\n            name=\"password\" value={cf_password} \n            onChange={e => setCfPassword(e.target.value)} \n            />\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\n              {typeCfPass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n      \n        <button type=\"submit\" className=\"btn btn-dark w-100 mt-2\">\n          Register\n        </button>\n     </form>\n    </div>\n  )\n}\n\nexport default ResetPassword\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\n\nimport CreateBlog from '../create_blog'\n\nconst UpdateBlog = () => {\n  const { slug } = useParams<IParams>()\n\n  return <CreateBlog id={slug} />\n}\n\nexport default UpdateBlog\n","import jwt_decode from \"jwt-decode\";\nimport { AUTH } from '../redux/types/authType'\nimport { getAPI } from './FetchData'\n\n\ninterface IToken {\n  exp: number\n  iat: number\n  id: string\n}\n\nexport const checkTokenExp = async (token: string, dispatch: any) => {\n  const decoded: IToken = jwt_decode(token)\n\n  if(decoded.exp >= Date.now() / 1000) return;\n\n  const res = await getAPI('refresh_token')\n  dispatch({ type: AUTH, payload: res.data })\n  return res.data.access_token;\n}","import React from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\n\ninterface IProps {\n  body: string\n  setBody: (value: string) => void\n}\n\nconst LiteQuill: React.FC<IProps> = ({body, setBody}) => {\n\n  const modules = { toolbar: { container }}\n\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n        modules={modules}\n        placeholder=\"Write somethings...\"\n        onChange={e => setBody(e)}\n        value={body}\n      />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  ['bold', 'italic', 'underline', 'strike'],        \n  ['blockquote', 'code-block', 'link'],\n  [{ 'color': [] }, { 'background': [] }],          \n  [{ 'script': 'sub'}, { 'script': 'super' }]\n]\n\nexport default LiteQuill\n","import React, { useState, useRef, useEffect } from 'react'\nimport { IComment } from '../../utils/TypeScript'\nimport LiteQuill from '../editor/LiteQuill'\n\n\ninterface IProps {\n  callback: (body: string) => void\n  edit?: IComment\n  setEdit?:(edit?: IComment) => void\n}\n\nconst Input: React.FC<IProps> = ({ callback, edit, setEdit }) => {\n\n  const [body, setBody] = useState('')\n  const divRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if(edit) setBody(edit.content)\n  },[edit])\n\n\n  const handleSubmit = () => {\n    const div = divRef.current;\n    const text = (div?.innerText as string)\n    if(!text.trim()) {\n      if(setEdit) return setEdit(undefined);\n      return;\n    };\n\n    callback(body)\n\n    setBody('')\n  }\n  \n  return (\n    <div>\n      <LiteQuill body={body} setBody={setBody} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <button className=\"btn btn-dark ms-auto d-block px-4 mt-2\"\n      onClick={handleSubmit}>\n        { edit ? 'Update' : 'Send' }\n      </button>\n    </div>\n  )\n}\n\nexport default Input\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n}\n\nconst AvatarComment: React.FC<IProps> = ({ user }) => {\n  return (\n    <div className=\"avatar_comment\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <small className=\"d-block text-break\">\n        <Link to={`/profile/${user._id}`}>\n          {user.name}\n        </Link>\n      </small>\n    </div>\n  )\n}\n\nexport default AvatarComment\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { IUser } from '../../utils/TypeScript'\n\ninterface IProps {\n  user: IUser\n  reply_user?: IUser\n}\nconst AvatarReply: React.FC<IProps> = ({ user, reply_user }) => {\n  return (\n    <div className=\"avatar_reply\">\n      <img src={user.avatar} alt=\"avatar\" />\n\n      <div className=\"ms-1\">\n        <small>\n          <Link to={`/profile/${user._id}`}\n          style={{ textDecoration: 'none' }}>\n            { user.name }\n          </Link>\n        </small>\n\n        <small className=\"reply-text\">\n          Reply to <Link to={`/profile/${reply_user?._id}`}>\n            { reply_user?.name }\n          </Link>\n        </small>\n      </div>\n    </div>\n  )\n}\n\nexport default AvatarReply\n","import { Dispatch } from 'redux'\n\nimport { ALERT, IAlertType } from '../types/alertType'\nimport { \n  ICreateCommentType,\n  GET_COMMENTS,\n  IGetCommentsType,\n  IReplyCommentType,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  IUpdateType,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  IDeleteType\n} from '../types/commentType'\n\nimport { IComment } from '../../utils/TypeScript'\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\n\nexport const createComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | ICreateCommentType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    await postAPI('comment', data, access_token)\n\n    // dispatch({\n    //   type: CREATE_COMMENT,\n    //   payload: { ...res.data, user: data.user }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const getComments = (\n  id: string, num: number\n) => async(dispatch: Dispatch<IAlertType | IGetCommentsType>) => {\n  try {\n    let limit = 4;\n\n    const res = await getAPI(`comments/blog/${id}?page=${num}&limit=${limit}`)\n\n    dispatch({\n      type: GET_COMMENTS,\n      payload: {\n        data: res.data.comments,\n        total: res.data.total\n      }\n    })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const replyComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IReplyCommentType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    await postAPI('reply_comment', data, access_token)\n\n    // dispatch({\n    //   type: REPLY_COMMENT,\n    //   payload: { \n    //     ...res.data, \n    //     user: data.user,\n    //     reply_user: data.reply_user\n    //   }\n    // })\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const updateComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IUpdateType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ \n      type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n      payload: data \n    })\n\n    await patchAPI(`comment/${data._id}`, { data }, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const deleteComment = (\n  data: IComment, token: string\n) => async(dispatch: Dispatch<IAlertType | IDeleteType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ \n      type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n      payload: data \n    })\n    \n    await deleteAPI(`comment/${data._id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { IComment, RootStore } from '../../utils/TypeScript'\n\nimport { \n  replyComment, \n  updateComment,\n  deleteComment\n} from '../../redux/actions/commentAction'\n\nimport Input from './Input'\n\ninterface IProps {\n  comment: IComment\n  showReply: IComment[]\n  setShowReply: (showReply: IComment[]) => void\n}\n\nconst CommentList: React.FC<IProps> = ({ \n  children, comment, showReply, setShowReply\n}) => {\n  const [onReply, setOnReply] = useState(false)\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [edit, setEdit] = useState<IComment>()\n\n  const handleReply = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      user: auth.user,\n      blog_id: comment.blog_id,\n      blog_user_id: comment.blog_user_id,\n      content: body,\n      replyCM: [],\n      reply_user: comment.user,\n      comment_root: comment.comment_root || comment._id,\n      createdAt: new Date().toISOString()\n    }\n\n\n    setShowReply([data, ...showReply])\n    dispatch(replyComment(data, auth.access_token))\n    setOnReply(false)\n  }\n\n\n  const handleUpdate = (body: string) => {\n    if(!auth.user || !auth.access_token || !edit) return;\n\n    if(body === edit.content) \n      return setEdit(undefined)\n    \n    const newComment = {...edit, content: body}\n    dispatch(updateComment(newComment, auth.access_token))\n    setEdit(undefined)\n  }\n\n  const handleDelete = (comment: IComment) => {\n    if(!auth.user || !auth.access_token) return;\n    dispatch(deleteComment(comment, auth.access_token))\n  }\n\n\n  const Nav = (comment: IComment) => {\n    return(\n      <div>\n        <i className=\"fas fa-trash-alt mx-2\"\n        onClick={() => handleDelete(comment)} />\n\n        <i className=\"fas fa-edit me-2\"\n        onClick={() => setEdit(comment)} />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-100\">\n      {\n        edit\n        ? <Input \n          callback={handleUpdate} \n          edit={edit}\n          setEdit={setEdit}\n        />\n\n        : <div className=\"comment_box\">\n            <div className=\"p-2\" dangerouslySetInnerHTML={{\n              __html: comment.content\n            }} />\n\n            <div className=\"d-flex justify-content-between p-2\">\n              <small style={{cursor: 'pointer'}}\n              onClick={() => setOnReply(!onReply)}>\n                {onReply ? '- Cancel -' :'- Reply -'}\n              </small>\n\n              <small className=\"d-flex\">\n                <div className=\"comment_nav\">\n                  {\n                    comment.blog_user_id === auth.user?._id\n                    ? comment.user._id === auth.user._id\n                      ? Nav(comment)\n                      : <i className=\"fas fa-trash-alt mx-2\"\n                      onClick={() => handleDelete(comment)} />\n                    : comment.user._id === auth.user?._id && Nav(comment)\n                  }\n                </div>\n\n                <div>\n                  { new Date(comment.createdAt).toLocaleString() }\n                </div>\n              </small>\n            </div>\n\n          </div>\n      }\n\n      {\n        onReply && <Input callback={handleReply} />\n      }\n      \n      { children }\n    </div>\n  )\n}\n\nexport default CommentList\n","import React, { useState, useEffect } from 'react'\n\nimport { IComment } from '../../utils/TypeScript'\n\nimport AvatarComment from './AvatarComment'\nimport AvatarReply from './AvatarReply'\nimport CommentList from './CommentList'\n\n\ninterface IProps {\n  comment: IComment\n}\n\nconst Comments: React.FC<IProps> = ({ comment }) => {\n  const [showReply, setShowReply] = useState<IComment[]>([])\n  const [next, setNext] = useState(2)\n \n  useEffect(() => {\n    if(!comment.replyCM) return;\n    setShowReply(comment.replyCM)\n  },[comment.replyCM])\n\n  return (\n    <div className=\"my-3 d-flex\" style={{\n      opacity: comment._id ? 1 : 0.5,\n      pointerEvents: comment._id ? 'initial' : 'none'\n    }}>\n      <AvatarComment user={comment.user} /> \n\n      <CommentList \n      comment={comment} \n      showReply={showReply}\n      setShowReply={setShowReply}\n      >\n        {\n          showReply.slice(0, next).map((comment, index) => (\n            <div key={index} style={{\n              opacity: comment._id ? 1 : 0.5,\n              pointerEvents: comment._id ? 'initial' : 'none'\n            }}>\n              <AvatarReply\n                user={comment.user}\n                reply_user={comment.reply_user}\n              />\n\n              <CommentList \n                comment={comment} \n                showReply={showReply}\n                setShowReply={setShowReply}\n              />\n            </div>\n          ))\n        }\n\n        <div style={{ cursor: 'pointer' }}>\n          {\n            showReply.length -next > 0\n            ? <small style={{ color: 'crimson' }}\n            onClick={() => setNext(next + 5)}>\n              See more comments...\n            </small>\n            : showReply.length > 2 && \n            <small style={{ color: 'teal' }}\n            onClick={() => setNext(2)}>\n              Hide comments...\n            </small>\n          }\n        </div>\n\n      </CommentList>\n    </div>\n  )\n}\n\nexport default Comments\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport { IBlog, RootStore, IUser, IComment } from '../../utils/TypeScript'\n\nimport Input from '../comments/Input'\nimport Comments from '../comments/Comments'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nimport { \n  createComment, \n  getComments \n} from '../../redux/actions/commentAction'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst DisplayBlog: React.FC<IProps> = ({blog}) => {\n  const { auth, comments } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [showComments, setShowComments] = useState<IComment[]>([])\n  const [loading, setLoading] = useState(false)\n\n  const history = useHistory()\n\n\n  const handleComment = (body: string) => {\n    if(!auth.user || !auth.access_token) return;\n\n    const data = {\n      content: body,\n      user: auth.user,\n      blog_id: (blog._id as string),\n      blog_user_id: (blog.user as IUser)._id,\n      replyCM: [],\n      createdAt: new Date().toISOString()\n    }\n\n    setShowComments([data, ...showComments])\n    dispatch(createComment(data, auth.access_token))\n  }\n\n\n  useEffect(() => {\n    setShowComments(comments.data)\n  },[comments.data])\n\n\n  const fetchComments = useCallback(async(id: string, num = 1) => {\n    setLoading(true)\n    await dispatch(getComments(id, num))\n    setLoading(false)\n  },[dispatch])\n\n\n  useEffect(() => {\n    if(!blog._id) return;\n    const num = history.location.search.slice(6) || 1;\n    fetchComments(blog._id, num)\n  },[blog._id, fetchComments, history])\n\n  const handlePagination = (num: number) => {\n    if(!blog._id) return;\n    fetchComments(blog._id, num)\n  }\n\n\n  return (\n    <div>\n      <h2 className=\"text-center my-3 text-capitalize fs-1\"\n      style={{ color: '#ff7a00' }}>\n        {blog.title}\n      </h2>\n\n      <div className=\"text-end fst-italic\" style={{color: 'teal'}}>\n        <small>\n          {\n            typeof(blog.user) !== 'string' &&\n            `By: ${blog.user.name}`\n          }\n        </small>\n\n        <small className=\"ms-2\">\n          { new Date(blog.createdAt).toLocaleString() }\n        </small>\n      </div>\n\n      <div dangerouslySetInnerHTML={{\n        __html: blog.content\n      }} />\n\n      <hr className=\"my-1\" />\n      <h3 style={{color: '#ff7a00'}}> Comments </h3>\n\n      {\n        auth.user\n        ? <Input callback={handleComment} />\n        : <h5>\n          Please <Link to={`/login?blog/${blog._id}`}>login</Link> to comment.\n        </h5>\n      }\n      \n      {\n        loading\n        ? <Loading />\n        : showComments?.map((comment, index) => (\n          <Comments key={index} comment={comment} />\n        ))\n      }\n\n      {\n        comments.total > 1 &&\n        <Pagination \n        total={comments.total}\n        callback={handlePagination}\n        />\n      }\n    </div>\n  )\n}\n\nexport default DisplayBlog\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, IBlog, RootStore } from '../../utils/TypeScript'\nimport { getAPI } from '../../utils/FetchData'\n\nimport Loading from '../../components/global/Loading'\nimport { showErrMsg } from '../../components/alert/Alert'\nimport DisplayBlog from '../../components/blog/DisplayBlog'\n\nconst DetailBlog = () => {\n  const id = useParams<IParams>().slug\n  const { socket } = useSelector((state: RootStore) => state)\n\n  const [blog, setBlog] = useState<IBlog>()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if(!id) return;\n\n    setLoading(true)\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setLoading(false)\n    })\n    .catch(err => {\n      setError(err.response.data.msg)\n      setLoading(false)\n    })\n\n    return () => setBlog(undefined)\n  },[id])\n\n  // Join Room\n  useEffect(() => {\n    if(!id || !socket) return;\n    socket.emit('joinRoom', id)\n\n    return () => {\n      socket.emit('outRoom', id)\n    }\n  },[socket, id])\n  \n\n  if(loading) return <Loading />;\n  return (\n    <div className=\"my-4\">\n      { error && showErrMsg(error) }\n      \n      { blog && <DisplayBlog blog={blog} /> }\n\n    </div>\n  )\n}\n\nexport default DetailBlog\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { login } from '../../redux/actions/authAction'\n\n\nconst LoginPass = () => {\n  const initialState = { account: '', password: '' }\n  const [userLogin, setUserLogin] = useState(initialState)\n  const { account, password } = userLogin\n\n  const [typePass, setTypePass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserLogin({...userLogin, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(login(userLogin))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Email / Phone number\n        </label>\n\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 mt-1\"\n      disabled={(account && password) ? false : true}>\n        Login\n      </button>\n    </form>\n  )\n}\n\nexport default LoginPass\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { FormSubmit } from '../../utils/TypeScript'\nimport { loginSMS } from '../../redux/actions/authAction'\n\nconst LoginSMS = () => {\n  const [phone, setPhone] = useState('')\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(loginSMS(phone))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"phone\" className=\"form-label\">Phone number</label>\n\n        <input type=\"text\" className=\"form-control\" id=\"phone\"\n        value={phone} onChange={e => setPhone(e.target.value)}\n        placeholder=\"+84374481936\" />\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100\"\n      disabled={phone ? false : true}>\n        Login\n      </button>\n    </form>\n  )\n}\n\nexport default LoginSMS\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { GoogleLogin, GoogleLoginResponse } from 'react-google-login-lite';\nimport { FacebookLogin, FacebookLoginAuthResponse } from 'react-facebook-login-lite';\n\nimport { googleLogin, facebookLogin } from '../../redux/actions/authAction'\n\nconst SocialLogin = () => {\n  const dispatch = useDispatch()\n\n  const onSuccess = (googleUser: GoogleLoginResponse) => {\n    const id_token = googleUser.getAuthResponse().id_token\n    dispatch(googleLogin(id_token))\n  }\n  \n  const onFBSuccess = (response: FacebookLoginAuthResponse) => {\n    const { accessToken, userID } = response.authResponse\n    dispatch(facebookLogin(accessToken, userID))\n  }\n  \n\n  return (\n    <>\n      <div className=\"my-2\">\n        <GoogleLogin \n        client_id='1060142626291-b7t0hjccfsflhdordfb1fed2j32igvn8.apps.googleusercontent.com'\n        cookiepolicy='single_host_origin'\n        onSuccess={onSuccess}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <FacebookLogin \n        appId=\"333953021722051\"\n        onSuccess={onFBSuccess}\n        />\n      </div>\n    </>\n  )\n}\n\nexport default SocialLogin\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport LoginPass from '../components/auth/LoginPass'\nimport LoginSMS from '../components/auth/LoginSMS'\nimport SocialLogin from '../components/auth/SocialLogin'\n\nimport { RootStore } from '../utils/TypeScript'\n\nconst Login = () => {\n  const [sms, setSms] = useState(false)\n  const history = useHistory()\n\n  const { auth } = useSelector((state: RootStore) => state)\n\n  useEffect(() => {\n    if(auth.access_token) {\n      let url = history.location.search.replace('?', '/')\n      return history.push(url)\n    }\n  },[auth.access_token, history])\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Login</h3>\n\n        <SocialLogin />\n\n        { sms ? <LoginSMS/> : <LoginPass /> }\n\n        <small className=\"row my-2 text-primary\" style={{cursor: 'pointer'}}>\n          <span className=\"col-6\">\n            <Link to='/forgot_password'>\n              Forgot password?\n            </Link>\n          </span>\n\n          <span className=\"col-6 text-end\" onClick={() => setSms(!sms)}>\n            { sms ? 'Sign in with password' : 'Sign in with SMS' }\n          </span>\n        </small>\n\n        <p>\n          {`You don't have an account? `}\n          <Link to={`/register${history.location.search}`} style={{color: 'crimson'}}>\n            Register Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, InputChange, IUserProfile, FormSubmit } from '../../utils/TypeScript'\n\nimport NotFound from '../global/NotFound'\n\nimport { updateUser, resetPassword } from '../../redux/actions/userAction'\n\nconst UserInfo = () => {\n  const initState = {\n    name: '', account: '', avatar: '', password: '', cf_password: ''\n  }\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [user, setUser] = useState<IUserProfile>(initState)\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n\n  const handleChangeInput = (e: InputChange) => {\n    const { name, value } = e.target\n    setUser({ ...user, [name]:value })\n  }\n\n\n  const handleChangeFile = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n\n    if(files){\n      const file = files[0]\n      setUser({...user, avatar: file})\n    }\n  } \n\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    if(avatar || name)\n      dispatch(updateUser((avatar as File), name, auth))\n\n    if(password && auth.access_token)\n      dispatch(resetPassword(password, cf_password, auth.access_token))\n  }\n\n\n  const { name, avatar, password, cf_password } = user\n\n  if(!auth.user) return <NotFound />\n  return (\n    <form className=\"profile_info\" onSubmit={handleSubmit}>\n      <div className=\"info_avatar\">\n        <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n        alt=\"avatar\" \n        />\n\n        <span>\n          <i className=\"fas fa-camera\" />\n          <p>Change</p>\n          <input type=\"file\" accept=\"image/*\"\n          name=\"file\" id=\"file_up\" \n          onChange={handleChangeFile} />\n        </span>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"name\">Name</label>\n        <input type=\"text\" className=\"form-control\" id=\"name\"\n        name=\"name\" defaultValue={auth.user.name}\n        onChange={handleChangeInput} />\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"account\">Account</label>\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" defaultValue={auth.user.account}\n        onChange={handleChangeInput} disabled={true} />\n      </div>\n\n      {\n        auth.user.type !== 'register' &&\n        <small className=\"text-danger\">\n          * Quick login account with {auth.user.type} can't use this function *\n        </small>\n      }\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"password\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" id=\"password\"\n          name=\"password\" value={password}\n          onChange={handleChangeInput}\n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            { typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <label htmlFor=\"cf_password\">Confirm Password</label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control\" id=\"cf_password\"\n          name=\"cf_password\" value={cf_password}\n          onChange={handleChangeInput} \n          disabled={auth.user.type !== 'register'} />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            { typeCfPass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button className=\"btn btn-dark w-100\" type=\"submit\">\n        Update\n      </button>\n    </form>\n  )\n}\n\nexport default UserInfo\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { getOtherInfo } from '../../redux/actions/userAction'\nimport { RootStore, IUser } from '../../utils/TypeScript'\n\nimport Loading from '../global/Loading'\n\n\ninterface IProps {\n  id: string\n}\n\nconst OtherInfo: React.FC<IProps> = ({id}) => {\n  const [other, setOther] = useState<IUser>()\n\n  const { otherInfo } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if(!id) return;\n\n    if(otherInfo.every(user => user._id !== id)){\n      dispatch(getOtherInfo(id))\n    }else{\n      const newUser = otherInfo.find(user => user._id === id)\n      if(newUser) setOther(newUser)\n    }\n  },[id, otherInfo, dispatch])\n\n\n  if(!other) return <Loading />;\n  return (\n    <div className=\"profile_info text-center rounded\">\n      <div className=\"info_avatar\">\n        <img src={other.avatar} alt=\"avatar\" />\n      </div>\n\n      <h5 className=\"text-uppercase text-danger\">\n        {other.role}\n      </h5>\n\n      <div>\n        Name: <span className=\"text-info\">\n          {other.name}\n        </span>\n      </div>\n\n      <div>Email / Phone number</div>\n      <span className=\"text-info\">\n        {other.account}\n      </span>\n\n      <div>\n        Join Date: <span style={{color: '#ffc107'}}>\n          { new Date(other.createdAt).toLocaleString() }\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default OtherInfo\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\n\nimport { IParams, RootStore, IBlog } from '../../utils/TypeScript'\n\nimport { getBlogsByUserId } from '../../redux/actions/blogAction'\n\nimport CardHoriz from '../cards/CardHoriz'\nimport Loading from '../global/Loading'\nimport Pagination from '../global/Pagination'\n\nconst UserBlogs = () => {\n  const { blogsUser } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n  const user_id = useParams<IParams>().slug\n\n  const [blogs, setBlogs] = useState<IBlog[]>()\n  const [total, setTotal] = useState(0)\n\n  const history = useHistory()\n  const { search } = history.location\n\n  useEffect(() => {\n    if(!user_id) return;\n\n    if(blogsUser.every(item => item.id !== user_id)){\n      dispatch(getBlogsByUserId(user_id, search))\n    }else{\n      const data = blogsUser.find(item => item.id === user_id)\n      if(!data) return;\n\n      setBlogs(data.blogs)\n      setTotal(data.total)\n      if(data.search) history.push(data.search)\n    }\n  },[user_id, blogsUser, dispatch, search, history])\n\n  const handlePagination = (num: number) => {\n    const search = `?page=${num}`\n    dispatch(getBlogsByUserId(user_id, search))\n  }\n\n\n  if(!blogs) return <Loading />;\n\n  if(blogs.length === 0 && total < 1) return(\n    <h3 className=\"text-center\">No Blogs</h3>\n  )\n\n  return (\n    <div>\n      <div>\n        {\n          blogs.map(blog => (\n            <CardHoriz key={blog._id} blog={blog} />\n          ))\n        }\n      </div>\n\n      <div>\n        <Pagination \n        total={total}\n        callback={handlePagination}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default UserBlogs\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, RootStore } from '../../utils/TypeScript'\n\nimport UserInfo from '../../components/profile/UserInfo'\nimport OtherInfo from '../../components/profile/OtherInfo'\nimport UserBlogs from '../../components/profile/UserBlogs'\n\nconst Profile = () => {\n  const { slug }: IParams = useParams()\n  const { auth } = useSelector((state: RootStore) => state)\n\n  return (\n    <div className=\"row my-3\">\n      <div className=\"col-md-5 mb-3\">\n        {\n          auth.user?._id === slug\n          ? <UserInfo />\n          : <OtherInfo id={slug} />\n        }\n      </div>\n\n      <div className=\"col-md-7\">\n        <UserBlogs />\n      </div>\n    </div>\n  )\n}\n\nexport default Profile\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { InputChange, FormSubmit } from '../../utils/TypeScript'\nimport { register } from '../../redux/actions/authAction'\n\n\nconst RegisterForm = () => {\n\n  const initialState = { \n    name: '', account: '', password: '', cf_password: '' \n  }\n  const [userRegister, setUserRegister] = useState(initialState)\n  const { name, account, password, cf_password } = userRegister\n\n  const [typePass, setTypePass] = useState(false)\n  const [typeCfPass, setTypeCfPass] = useState(false)\n\n  const dispatch = useDispatch()\n\n  const handleChangeInput = (e: InputChange) => {\n    const {value, name} = e.target\n    setUserRegister({...userRegister, [name]:value})\n  }\n\n  const handleSubmit = (e: FormSubmit) => {\n    e.preventDefault()\n    dispatch(register(userRegister))\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"name\" className=\"form-label\">Name</label>\n\n        <input type=\"text\" className=\"form-control\" id=\"name\"\n        name=\"name\" value={name} onChange={handleChangeInput}\n        placeholder=\"Your name is up to 20 chars.\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"account\" className=\"form-label\">\n          Email / Phone number\n        </label>\n\n        <input type=\"text\" className=\"form-control\" id=\"account\"\n        name=\"account\" value={account} onChange={handleChangeInput}\n        placeholder=\"Example@gmail.com/+84374481936\" />\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">Password</label>\n\n        <div className=\"pass\">\n          <input type={typePass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"password\"\n          name=\"password\" value={password} \n          onChange={handleChangeInput} \n          placeholder=\"Password must be at least 6 chars.\"\n          />\n\n          <small onClick={() => setTypePass(!typePass)}>\n            {typePass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"form-group mb-3\">\n        <label htmlFor=\"password\" className=\"form-label\">\n          Confirm Password\n        </label>\n\n        <div className=\"pass\">\n          <input type={typeCfPass ? \"text\" : \"password\"} \n          className=\"form-control\" \n          id=\"cf_password\"\n          name=\"cf_password\" value={cf_password} \n          onChange={handleChangeInput} \n          placeholder=\"Your confirm password.\"\n          />\n\n          <small onClick={() => setTypeCfPass(!typeCfPass)}>\n            {typeCfPass ? 'Hide' : 'Show'}\n          </small>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"btn btn-dark w-100 my-1\">\n        Register\n      </button>\n    </form>\n  )\n}\n\nexport default RegisterForm\n","import React from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n\nimport RegisterForm from '../components/auth/RegisterForm'\n\nconst Register = () => {\n  const history = useHistory()\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Register</h3>\n\n        <RegisterForm />\n        \n        <p className=\"mt-2\">\n          {`Already have an account? `}\n          <Link to={`/login${history.location.search}`} style={{color: 'crimson'}}>\n            Login Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Register\n","import { Dispatch } from 'redux'\nimport { AUTH, IAuthType } from '../types/authType'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { IUserLogin, IUserRegister } from '../../utils/TypeScript'\nimport { postAPI, getAPI } from '../../utils/FetchData'\nimport { validRegister, validPhone } from '../../utils/Valid'\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\nexport const login = (userLogin: IUserLogin) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login', userLogin)\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const register = (userRegister: IUserRegister) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validRegister(userRegister)\n  \n  if(check.errLength > 0)\n    return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await postAPI('register', userRegister)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const refreshToken = () => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const logged = localStorage.getItem('logged')\n  if(logged !== 'devat-channel') return;\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    const res = await getAPI('refresh_token')\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n    localStorage.removeItem('logged')\n  }\n}\n\n\nexport const logout = (token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  \n  try {\n    localStorage.removeItem('logged')\n    dispatch({ type: AUTH, payload: { } })\n    await getAPI('logout', access_token)\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const googleLogin = (id_token: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('google_login', { id_token })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const facebookLogin = (accessToken: string, userID: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('facebook_login', { accessToken, userID })\n    \n    dispatch({ type: AUTH,payload: res.data })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n    localStorage.setItem('logged', 'devat-channel')\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\n\nexport const loginSMS = (phone: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  const check = validPhone(phone)\n  if(!check) \n    return dispatch({ \n      type: ALERT, \n      payload: { errors: 'Phone number format is incorrect.' }\n    });\n\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('login_sms', { phone })\n    \n    if(!res.data.valid)\n      verifySMS(phone, dispatch)\n    \n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}\n\nexport const verifySMS = async (\n  phone: string, dispatch: Dispatch<IAuthType | IAlertType>\n) => {\n    const code = prompt('Enter your code')\n    if(!code) return;\n\n    try {\n      dispatch({ type: ALERT, payload: { loading: true } })\n\n      const res = await postAPI('sms_verify', { phone, code })\n      \n      dispatch({ type: AUTH,payload: res.data })\n\n      dispatch({ type: ALERT, payload: { success: res.data.msg } })\n      localStorage.setItem('logged', 'devat-channel')\n    } catch (err: any) {\n      dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n      setTimeout(() => {\n        verifySMS(phone, dispatch)\n      }, 100);\n    }\n    \n}\n\n\nexport const forgotPassword = (account: string) => \nasync (dispatch: Dispatch<IAuthType | IAlertType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await postAPI('forgot_password', { account })\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg } })\n  }\n}","var map = {\n\t\"./\": 77,\n\t\"./active/[slug]\": 93,\n\t\"./active/[slug].tsx\": 93,\n\t\"./blog/[slug]\": 144,\n\t\"./blog/[slug].tsx\": 144,\n\t\"./blogs/[slug]\": 124,\n\t\"./blogs/[slug].tsx\": 124,\n\t\"./category\": 125,\n\t\"./category.tsx\": 125,\n\t\"./create_blog\": 71,\n\t\"./create_blog.tsx\": 71,\n\t\"./forgot_password\": 126,\n\t\"./forgot_password.tsx\": 126,\n\t\"./index\": 77,\n\t\"./index.tsx\": 77,\n\t\"./login\": 145,\n\t\"./login.tsx\": 145,\n\t\"./profile/[slug]\": 146,\n\t\"./profile/[slug].tsx\": 146,\n\t\"./register\": 147,\n\t\"./register.tsx\": 147,\n\t\"./reset_password/[slug]\": 127,\n\t\"./reset_password/[slug].tsx\": 127,\n\t\"./update_blog/[slug]\": 128,\n\t\"./update_blog/[slug].tsx\": 128\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 163;","import { IBlog } from '../../utils/TypeScript'\n\nexport const GET_HOME_BLOGS = \"GET_HOME_BLOGS\"\nexport const GET_BLOGS_CATEGORY_ID = \"GET_BLOGS_CATEGORY_ID\"\nexport const GET_BLOGS_USER_ID = \"GET_BLOGS_USER_ID\"\nexport const CREATE_BLOGS_USER_ID = \"CREATE_BLOGS_USER_ID\"\nexport const DELETE_BLOGS_USER_ID = \"DELETE_BLOGS_USER_ID\"\n\n\nexport interface IHomeBlogs {\n  _id: string\n  name: string\n  count: number\n  blogs: IBlog[]\n}\n\nexport interface IGetHomeBlogsType {\n  type: typeof GET_HOME_BLOGS,\n  payload: IHomeBlogs[]\n}\n\nexport interface IBlogsCategory {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsCategoryType {\n  type: typeof GET_BLOGS_CATEGORY_ID,\n  payload: IBlogsCategory\n}\n\nexport interface IBlogsUser {\n  id: string\n  blogs: IBlog[]\n  total: number\n  search: string\n}\n\nexport interface IGetBlogsUserType {\n  type: typeof GET_BLOGS_USER_ID,\n  payload: IBlogsUser\n}\n\nexport interface ICreateBlogsUserType {\n  type: typeof CREATE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport interface IDeleteBlogsUserType {\n  type: typeof DELETE_BLOGS_USER_ID,\n  payload: IBlog\n}\n\nexport type IBlogUserType = \n| IGetBlogsUserType\n| ICreateBlogsUserType\n| IDeleteBlogsUserType","import { Dispatch } from 'redux'\nimport { IBlog } from '../../utils/TypeScript'\nimport { imageUpload } from '../../utils/ImageUpload'\nimport { postAPI, getAPI, putAPI, deleteAPI } from '../../utils/FetchData'\n\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  GET_BLOGS_CATEGORY_ID,\n  IGetBlogsCategoryType,\n  GET_BLOGS_USER_ID,\n  IGetBlogsUserType,\n  CREATE_BLOGS_USER_ID,\n  ICreateBlogsUserType,\n  DELETE_BLOGS_USER_ID,\n  IDeleteBlogsUserType\n} from '../types/blogType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\nexport const createBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType | ICreateBlogsUserType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n    \n    const newBlog = {...blog, thumbnail: url}\n    \n    const res = await postAPI('blog', newBlog, access_token)\n\n    dispatch({\n      type: CREATE_BLOGS_USER_ID,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getHomeBlogs = () => \nasync (dispatch: Dispatch<IAlertType | IGetHomeBlogsType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI('home/blogs')\n\n    dispatch({\n      type: GET_HOME_BLOGS,\n      payload: res.data\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByCategoryId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsCategoryType>) => {\n  try {\n    let limit = 8;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/category/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_CATEGORY_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const getBlogsByUserId = (id: string, search: string) => \nasync (dispatch: Dispatch<IAlertType | IGetBlogsUserType>) => {\n  try {\n    let limit = 3;\n    let value = search ? search : `?page=${1}`;\n\n    dispatch({ type: ALERT, payload: { loading: true } })\n\n    const res = await getAPI(`blogs/user/${id}${value}&limit=${limit}`)\n\n    dispatch({\n      type: GET_BLOGS_USER_ID,\n      payload: {...res.data, id, search }\n    })\n    \n    dispatch({ type: ALERT, payload: { loading: false } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const updateBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  let url;\n  try {\n    dispatch({ type: ALERT, payload: { loading: true } })\n    \n    if(typeof(blog.thumbnail) !== 'string'){\n      const photo = await imageUpload(blog.thumbnail)\n      url = photo.url\n    }else{\n      url = blog.thumbnail\n    }\n    \n    const newBlog = {...blog, thumbnail: url}\n\n    const res = await putAPI(`blog/${newBlog._id}`, newBlog, access_token)\n\n    dispatch({ type: ALERT, payload: { success: res.data.msg } })\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}\n\n\nexport const deleteBlog = (blog: IBlog, token: string) => \nasync (dispatch: Dispatch<IAlertType | IDeleteBlogsUserType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({\n      type: DELETE_BLOGS_USER_ID,\n      payload: blog\n    })\n\n    await deleteAPI(`blog/${blog._id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg} })\n  }\n}","import { IUser } from '../../utils/TypeScript'\n\nexport const AUTH = 'AUTH'\n\nexport interface IAuth {\n  msg?: string\n  access_token?: string\n  user?: IUser\n}\n\nexport interface IAuthType{\n  type: typeof AUTH\n  payload: IAuth\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"d-flex justify-content-center my-4\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Loading\n","import { IAlert } from '../../utils/TypeScript'\n\nexport const ALERT = 'ALERT'\n\nexport interface IAlertType {\n  type: typeof ALERT\n  payload: IAlert\n}","import { ICategory } from '../../utils/TypeScript'\n\nexport const CREATE_CATEGORY = 'CREATE_CATEGORY'\nexport const GET_CATEGORIES = 'GET_CATEGORIES'\nexport const UPDATE_CATEGORY = 'UPDATE_CATEGORY'\nexport const DELETE_CATEGORY = 'DELETE_CATEGORY'\n\n\nexport interface ICreateCatery{\n  type: typeof CREATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IGetCategories{\n  type: typeof GET_CATEGORIES\n  payload: ICategory[]\n}\n\nexport interface IUpdateCategory{\n  type: typeof UPDATE_CATEGORY\n  payload: ICategory\n}\n\nexport interface IDeleteCategory{\n  type: typeof DELETE_CATEGORY\n  payload: string\n}\n\nexport type ICategoryType = \n| ICreateCatery \n| IGetCategories\n| IUpdateCategory\n| IDeleteCategory\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport { IParams } from './utils/TypeScript'\nimport NotFound from './components/global/NotFound'\n\n\nconst generatePage = (name: string) => {\n  const component = () => require(`./pages/${name}`).default\n\n  try {\n    return React.createElement(component())\n  } catch (err) {\n    return <NotFound />;\n  }\n}\n\nconst PageRender = () => {\n  const { page, slug }: IParams = useParams()\n\n  let name = '';\n\n  if(page){\n    name = slug ? `${page}/[slug]` : `${page}`\n  }\n\n  return generatePage(name)\n}\n\nexport default PageRender\n","import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getAPI } from '../../utils/FetchData'\nimport { IBlog } from '../../utils/TypeScript'\n\nimport CardHoriz from '../cards/CardHoriz'\n\nconst Search = () => {\n  const [search, setSearch] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>([])\n\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if(search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`)\n        setBlogs(res.data)\n      } catch (err) {\n        console.log(err)\n      }\n    }, 400)\n\n    return () => clearTimeout(delayDebounce)\n  },[search])\n\n\n  useEffect(() => {\n    setSearch('')\n    setBlogs([])\n  },[pathname])\n\n  return (\n    <div className=\"search w-100 position-relative me-4\">\n      <input type=\"text\" className=\"form-control me-2 w-100\"\n      value={search} placeholder=\"Enter your search...\"\n      onChange={e => setSearch(e.target.value)}  />\n\n      {\n        search.length >= 2 &&\n        <div className=\"position-absolute pt-2 px-1 w-100 rounded\"\n        style={{\n          background: '#eee', zIndex: 10,\n          maxHeight: 'calc(100vh - 100px)',\n          overflow: 'auto'\n        }}>\n          {\n            blogs.length\n            ? blogs.map(blog => (\n              <CardHoriz key={blog._id} blog={blog} />\n            ))\n            : <h3 className=\"text-center\">No Blogs</h3>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Search\n","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\nimport { logout } from '../../redux/actions/authAction'\n\nconst Menu = () => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const { pathname } = useLocation()\n\n  const bfLoginLinks = [\n    { label: 'Login', path: '/login' },\n    { label: 'Register', path: '/register' }\n  ]\n\n  const afLoginLinks = [\n    { label: 'Home', path: '/' },\n    { label: 'CreateBlog', path: '/create_blog' }\n  ]\n\n  const navLinks = auth.access_token ? afLoginLinks : bfLoginLinks\n  \n  const isActive = (pn: string) => {\n    if(pn === pathname) return 'active';\n  }\n\n  const handleLogout = () => {\n    if(!auth.access_token) return;\n    dispatch(logout(auth.access_token))\n  }\n\n\n  return (\n    <ul className=\"navbar-nav ms-auto\">\n      {\n        navLinks.map((link, index) => (\n          <li key={index} className={`nav-item ${isActive(link.path)}`}>\n            <Link className=\"nav-link\" to={link.path}>{link.label}</Link>\n          </li>\n        ))\n      }\n\n      {\n        auth.user?.role === 'admin' &&\n        <li className={`nav-item ${isActive(\"/category\")}`}>\n          <Link to=\"/category\" className=\"nav-link\">Category</Link>\n        </li>\n      }\n      \n      {\n        auth.user &&\n        <li className=\"nav-item dropdown\">\n          <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n          </span>\n\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link className=\"dropdown-item\" \n              to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n\n            <li><hr className=\"dropdown-divider\" /></li>\n\n            <li>\n              <Link className=\"dropdown-item\" to=\"/\"\n              onClick={handleLogout}>\n                Logout\n              </Link>\n            </li>\n\n          </ul>\n        </li>\n      }\n      \n    </ul>\n  )\n}\n\nexport default Menu\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Search from './Search'\r\nimport Menu from './Menu'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light p-3\"\r\n    style={{position: 'sticky', top: 0, left: 0, zIndex: 9}}\r\n    >\r\n        <Link className=\"navbar-brand\" to=\"/\">Law-Blog</Link>\r\n\r\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <Search />\r\n          <Menu />\r\n        </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"text-center bg-light py-4\">\r\n      <h6>Cho mng ti vi trang lut ca Hnh</h6>\r\n      <p> Copyright &copy; 2021</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { RootStore, IComment } from './utils/TypeScript'\n\nimport {\n  CREATE_COMMENT,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY\n} from './redux/types/commentType'\n\nconst SocketClient = () => {\n  const { socket } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  // Create Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('createComment', (data: IComment) => {\n      dispatch({ type: CREATE_COMMENT, payload: data })\n    })\n\n    return () => { socket.off('createComment') }\n\n  },[socket, dispatch])\n\n  // Reply Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('replyComment', (data: IComment) => {\n      dispatch({ type: REPLY_COMMENT, payload: data })\n    })\n\n    return () => { socket.off('replyComment') }\n\n  },[socket, dispatch])\n\n  // Update Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('updateComment', (data: IComment) => {\n      dispatch({ \n        type: data.comment_root ? UPDATE_REPLY : UPDATE_COMMENT, \n        payload: data \n      })\n    })\n\n    return () => { socket.off('updateComment') }\n  },[socket, dispatch])\n\n\n  // Delete Comment\n  useEffect(() => {\n    if(!socket) return;\n\n    socket.on('deleteComment', (data: IComment) => {\n      dispatch({ \n        type: data.comment_root ? DELETE_REPLY : DELETE_COMMENT, \n        payload: data \n      })\n    })\n\n    return () => { socket.off('deleteComment') }\n  },[socket, dispatch])\n\n\n  return (\n    <div>\n      \n    </div>\n  )\n}\n\nexport default SocketClient\n","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport PageRender from './PageRender'\nimport Header from './components/global/Header'\nimport Footer from './components/global/Footer'\n\nimport { Alert } from './components/alert/Alert'\n\nimport { refreshToken } from './redux/actions/authAction'\nimport { getCategories } from './redux/actions/categoryAction'\nimport { getHomeBlogs } from './redux/actions/blogAction'\n\nimport io from 'socket.io-client'\n\nimport SocketClient from './SocketClient'\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getCategories())\n    dispatch(refreshToken())\n    dispatch(getHomeBlogs())\n  },[dispatch])\n\n  useEffect(() => {\n    const socket = io()\n    dispatch({ type: 'SOCKET', payload: socket })\n    return () => { socket.close() }\n  },[dispatch])\n\n  return (\n    <div className=\"container\">\n      <SocketClient />\n      <Router>\n        <Alert />\n        <Header />\n\n        <Switch>\n          <Route exact path=\"/\" component={PageRender} />\n          <Route exact path=\"/:page\" component={PageRender} />\n          <Route exact path=\"/:page/:slug\" component={PageRender} />\n        </Switch>\n\n        <Footer/>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n\n","import { AUTH, IAuth, IAuthType } from '../types/authType'\n\n\nconst authReducer = (state: IAuth = {}, action: IAuthType): IAuth => {\n  switch (action.type){\n    case AUTH:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default authReducer;","import { ALERT, IAlertType } from '../types/alertType'\nimport { IAlert } from '../../utils/TypeScript'\n\n\nconst alertReducer = (state: IAlert = {}, action: IAlertType): IAlert => {\n  switch (action.type){\n    case ALERT:\n      return action.payload\n    default:\n      return state\n  }\n}\n\nexport default alertReducer;","import * as types from '../types/categoryType'\nimport { ICategory } from '../../utils/TypeScript'\n\nconst categoryReducer = (\n  state: ICategory[] = [], action: types.ICategoryType\n): ICategory[] => {\n  switch (action.type) {\n    case types.CREATE_CATEGORY:\n      return [action.payload, ...state]\n\n    case types.GET_CATEGORIES:\n      return action.payload\n\n    case types.UPDATE_CATEGORY:\n      return state.map(item => (\n        item._id === action.payload._id\n        ? { ...item, name: action.payload.name}\n        : item\n      ))\n\n    case types.DELETE_CATEGORY:\n      return state.filter(item => item._id !== action.payload)\n      \n    default:\n      return state;\n  }\n}\n\nexport default categoryReducer;","import {\n  GET_HOME_BLOGS,\n  IGetHomeBlogsType,\n  IHomeBlogs\n} from '../types/blogType'\n\n\nconst homeBlogsReducer = (\n  state: IHomeBlogs[] = [],\n  action: IGetHomeBlogsType\n): IHomeBlogs[] => {\n  switch (action.type){\n    case GET_HOME_BLOGS:\n      return action.payload\n\n    default:\n      return state\n  }\n}\n\n\nexport default homeBlogsReducer","import {\n  GET_BLOGS_CATEGORY_ID,\n  IBlogsCategory,\n  IGetBlogsCategoryType\n} from '../types/blogType'\n\n\nconst blogsCategoryReducer = (\n  state: IBlogsCategory[] = [],\n  action: IGetBlogsCategoryType\n): IBlogsCategory[] => {\n  switch(action.type){\n    case GET_BLOGS_CATEGORY_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(blog => (\n          blog.id === action.payload.id\n          ? action.payload\n          : blog\n        ))\n      }\n\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsCategoryReducer;","import { IUser } from '../../utils/TypeScript'\nimport {\n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\n\nconst otherInfoReducer = (\n  state: IUser[] = [],\n  action: IGetOtherInfoType\n): IUser[] => {\n  switch(action.type){\n    case GET_OTHER_INFO:\n      return [...state, action.payload]\n\n    default:\n      return state\n  }\n}\n\nexport default otherInfoReducer","import { IUser } from '../../utils/TypeScript'\n\nimport {\n  IBlogsUser,\n  GET_BLOGS_USER_ID,\n  CREATE_BLOGS_USER_ID,\n  DELETE_BLOGS_USER_ID,\n  IBlogUserType\n} from '../types/blogType'\n\n\nconst blogsUserReducer = (\n  state: IBlogsUser[] = [],\n  action: IBlogUserType\n): IBlogsUser[] => {\n  switch(action.type){\n    case GET_BLOGS_USER_ID:\n      if(state.every(item => item.id !== action.payload.id)){\n        return [...state, action.payload]\n\n      }else{\n        return state.map(item => (\n          item.id === action.payload.id\n          ? action.payload\n          : item\n        ))\n      }\n    \n    case CREATE_BLOGS_USER_ID:\n      return state.map(item => (\n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: [action.payload, ...item.blogs]\n        }\n        : item\n      ))\n\n    case DELETE_BLOGS_USER_ID:\n      return state.map(item => (\n        item.id === (action.payload.user as IUser)._id\n        ? {\n          ...item,\n          blogs: item.blogs.filter(blog => (\n            blog._id !== action.payload._id\n          ))\n        }\n        : item\n      ))\n    default:\n      return state;\n  }\n}\n\n\nexport default blogsUserReducer;","import {\n  ICommentState,\n  CREATE_COMMENT,\n  GET_COMMENTS,\n  REPLY_COMMENT,\n  UPDATE_COMMENT,\n  UPDATE_REPLY,\n  DELETE_COMMENT,\n  DELETE_REPLY,\n  ICommentType\n} from '../types/commentType'\n\nconst initialState = {\n  data: [],\n  total: 1\n}\n\n\nconst commentReducer = (\n  state: ICommentState = initialState,\n  action: ICommentType\n): ICommentState => {\n  switch(action.type){\n    case CREATE_COMMENT:\n      return{\n        ...state,\n        data: [action.payload, ...state.data]\n      }\n    \n    case GET_COMMENTS:\n      return action.payload\n\n    case REPLY_COMMENT:\n      return {\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: [\n              action.payload,\n              ...item.replyCM\n            ]\n          }\n          : item\n        ))\n      }\n\n    case UPDATE_COMMENT:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload._id\n          ? action.payload\n          : item\n        ))\n      }\n\n    case UPDATE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.map(rp => (\n              rp._id === action.payload._id\n              ? action.payload\n              : rp\n            ))\n          }\n          : item\n        ))\n      }\n      \n    case DELETE_COMMENT:\n      return{\n        ...state,\n        data: state.data.filter(item => \n          item._id !== action.payload._id\n        )\n      }\n\n    case DELETE_REPLY:\n      return{\n        ...state,\n        data: state.data.map(item => (\n          item._id === action.payload.comment_root\n          ? {\n            ...item,\n            replyCM: item.replyCM?.filter(rp => (\n              rp._id !== action.payload._id\n            ))\n          }\n          : item\n        ))\n      }\n      \n    default:\n      return state\n  }\n}\n\n\nexport default commentReducer","import { Socket } from 'socket.io-client'\n\nexport const SOCKET = \"SOCKET\"\n\nexport interface ISocketType {\n  type: typeof SOCKET,\n  payload: Socket\n}","import { SOCKET, ISocketType } from '../types/socketType'\n\nconst socketReducer = (state: any = null, action: ISocketType): any => {\n  switch(action.type) {\n    case SOCKET:\n      return action.payload\n    default: \n      return state\n  }\n}\n\nexport default socketReducer\n","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport categories from './categoryReducer'\nimport homeBlogs from './homeBlogsReducer'\nimport blogsCategory from './blogsCategoryReducer'\nimport otherInfo from './otherInfoReducer'\nimport blogsUser from './blogsUserReducer'\nimport comments from './commentReducer'\nimport socket from './socketReducer'\n\nexport default combineReducers({\n  auth,\n  alert,\n  categories,\n  homeBlogs,\n  blogsCategory,\n  otherInfo,\n  blogsUser,\n  comments,\n  socket\n})","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","export const checkImage = (file: File) => {\n  const types = ['image/png', 'image/jpeg']\n  let err = ''\n  if(!file) return err = \"File does not exist.\"\n\n  if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb\"\n\n  if(!types.includes(file.type))\n    err = \"The image type is png / jpeg\"\n\n  return err;\n}\n\nexport const imageUpload = async (file: File) => {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  formData.append(\"upload_preset\", \"xwqohnif\")\n  formData.append(\"cloud_name\", \"devat-channel\")\n\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\n    method: \"POST\",\n    body: formData\n  })\n\n  const data = await res.json()\n  return { public_id: data.public_id, url: data.secure_url };\n}","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div\n      className=\"position-relative\"\n      style={{ minHeight: \"calc(100vh - 70px)\" }}\n    >\n      <h2\n        className=\"position-absolute text-secondary\"\n        style={{ top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\" }}\n      >\n        404 | NotFound\n      </h2>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import { IUserRegister, IBlog } from './TypeScript'\n\nexport const validRegister = (userRegister: IUserRegister) => {\n  const { name, account, password, cf_password } = userRegister;\n  const errors: string[] = [];\n\n  if(!name){\n    errors.push(\"Please add your name.\")\n  }else if(name.length > 20){\n    errors.push(\"Your name is up to 20 chars long.\")\n  }\n\n  if(!account){\n    errors.push(\"Please add your email or phone number.\")\n  }else if(!validPhone(account) && !validateEmail(account)){\n    errors.push(\"Email or phone number format is incorrect.\")\n  }\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) errors.push(msg)\n\n  return {\n    errMsg: errors,\n    errLength: errors.length\n  }\n}\n\n\nexport const checkPassword = (password: string, cf_password: string) => {\n  if(password.length < 6){\n    return (\"Password must be at least 6 chars.\")\n  }else if(password !== cf_password){\n    return (\"Confirm password did not match.\")\n  }\n}\n\nexport function validPhone(phone: string) {\n  const re = /^[+]/g\n  return re.test(phone)\n}\n\nexport function validateEmail(email: string) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\n\n// Valid Blog\nexport const validCreateBlog = ({\n  title, content, description, thumbnail, category\n}: IBlog) => {\n  const err: string[] = []\n\n  if(title.trim().length < 10){\n    err.push(\"Title has at least 10 characters.\")\n  }else if(title.trim().length > 50){\n    err.push(\"Title is up to 50 characters long.\")\n  }\n\n  if(content.trim().length < 2000){\n    err.push(\"Content has at least 2000 characters.\")\n  }\n\n  if(description.trim().length < 50){\n    err.push(\"Description has at least 50 characters.\")\n  }else if(description.trim().length > 200){\n    err.push(\"Description is up to 200 characters long.\")\n  }\n\n  if(!thumbnail){\n    err.push(\"Thumbnail cannot be left blank.\")\n  }\n\n  if(!category){\n    err.push(\"Category cannot be left blank.\")\n  }\n\n  return {\n    errMsg: err,\n    errLength: err.length\n  }\n\n}\n\n// Shallow equality\nexport const shallowEqual = (object1: any, object2: any) => {\n  const keys1 = Object.keys(object1)\n  const keys2 = Object.keys(object2)\n\n  if(keys1.length !== keys2.length) {\n    return false;\n  }\n\n  for(let key of keys1) {\n    if(object1[key] !== object2[key]){\n      return false;\n    }\n  }\n  \n  return true;\n\n}","import { Dispatch } from 'redux'\nimport { IAuth, IAuthType, AUTH } from '../types/authType'\nimport { IAlertType, ALERT } from '../types/alertType'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { patchAPI, getAPI } from '../../utils/FetchData'\nimport { checkPassword } from '../../utils/Valid'\n\nimport { \n  GET_OTHER_INFO,\n  IGetOtherInfoType\n} from '../types/profileType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\n\nexport const updateUser = (\n  avatar: File, name: string, auth: IAuth\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  if(!auth.access_token || !auth.user) return;\n\n  const result = await checkTokenExp(auth.access_token, dispatch)\n  const access_token = result ? result : auth.access_token\n\n  let url = '';\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n    if(avatar){\n      const check = checkImage(avatar)\n      if(check) \n        return dispatch({ type: ALERT,payload: { errors: check } })\n\n      const photo = await imageUpload(avatar)\n      url = photo.url\n    }\n\n    dispatch({ \n      type: AUTH,\n      payload: {\n        access_token: auth.access_token,\n        user: {\n          ...auth.user,\n          avatar: url ? url : auth.user.avatar, \n          name: name ? name : auth.user.name\n        }\n      } \n    })\n\n    const res = await patchAPI('user', { \n      avatar: url ? url : auth.user.avatar, \n      name: name ? name : auth.user.name\n    }, access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const resetPassword = (\n  password: string, cf_password: string, token: string\n) => async (dispatch: Dispatch<IAlertType | IAuthType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n\n  const msg = checkPassword(password, cf_password)\n  if(msg) return dispatch({ type: ALERT, payload: {errors: msg}})\n\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await patchAPI('reset_password', { password }, access_token)\n\n    dispatch({ type: ALERT, payload: {success: res.data.msg}})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}\n\n\nexport const getOtherInfo = (id: string) => \nasync (dispatch: Dispatch<IAlertType | IGetOtherInfoType>) => {\n  try {\n    dispatch({ type: ALERT, payload: {loading: true}})\n\n    const res = await getAPI(`user/${id}`)\n\n    dispatch({\n      type: GET_OTHER_INFO,\n      payload: res.data\n    })\n\n    dispatch({ type: ALERT, payload: { }})\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: {errors: err.response.data.msg}})\n  }\n}","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <div className=\"position-fixed w-100 h-100 text-center loading\"\n    style={{background: '#0007', color: \"white\", top: 0, left: 0, zIndex: 99}}>\n      <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n        <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n        points=\"20,1 40,40 1,40\" />\n        <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n      </svg>\n    </div>\n  )\n}\n\nexport default Loading\n","import { useDispatch } from 'react-redux'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  title: string\n  body: string | string[]\n  bgColor: string\n}\n\nconst Toast = ({title, body, bgColor}: IProps) => {\n\n  const dispatch = useDispatch()\n\n  const handleClose = () => {\n    dispatch({ type: ALERT, payload: {} })\n  }\n\n  return (\n    <div className={`toast show position-fixed text-light ${bgColor}`}\n    style={{top: '5px', right: '5px', zIndex: 50, minWidth: '200px'}}>\n\n      <div className={`toast-header text-light ${bgColor}`}>\n        <strong className=\"me-auto\">{title}</strong>\n        <button type=\"button\" className=\"btn-close\" \n        data-bs-dismiss=\"toast\" aria-label=\"Close\"\n        onClick={handleClose} />\n      </div>\n\n      <div className=\"toast-body\">\n        {\n          typeof(body) === 'string'\n          ? body\n          : <ul>\n            {\n              body.map((text, index) => (\n                <li key={index}>{text}</li>\n              ))\n            }\n          </ul>\n        }\n      </div>\n\n    </div>\n  )\n}\n\nexport default Toast\n","import { useSelector } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nexport const Alert = () => {\n  const { alert } = useSelector((state: RootStore) => state)\n\n  return (\n    <div>\n      { alert.loading && <Loading /> }\n\n      { \n        alert.errors && \n        <Toast \n        title=\"Errors\"\n        body={alert.errors}\n        bgColor=\"bg-danger\"\n        />\n      }\n\n      { \n        alert.success && \n        <Toast \n        title=\"Success\"\n        body={alert.success}\n        bgColor=\"bg-success\"\n        />\n      }\n    </div>\n  )\n}\n\nexport const showErrMsg = (msg: string) => {\n  return <div className=\"errMsg\">{msg}</div>\n}\n\nexport const showSuccessMsg = (msg: string) => {\n  return <div className=\"successMsg\">{msg}</div>\n}","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\n\ninterface IProps {\n  total: number\n  callback: (num: number) => void\n}\n\nconst Pagination: React.FC<IProps> = ({total, callback}) => {\n  const [page, setPage] = useState(1)\n\n  const newArr = [...Array(total)].map((_,i) => i + 1)\n  const history = useHistory()\n\n  const isActive = (index: number) => {\n    if(index === page) return \"active\";\n    return \"\"\n  }\n\n  const handlePagination = (num: number) => {\n    history.push(`?page=${num}`)\n    callback(num)\n  }\n\n  useEffect(() => {\n    const num = history.location.search.slice(6) || 1\n    setPage(Number(num))\n  },[history.location.search])\n\n\n  return (\n    <nav aria-label=\"Page navigation example\" style={{cursor: 'pointer'}}>\n      <ul className=\"pagination\">\n        {\n          page > 1 && \n          <li className=\"page-item\" \n          onClick={() => handlePagination(page - 1)}>\n            <span className=\"page-link\" aria-label=\"Previous\">\n              <span aria-hidden=\"true\">&laquo;</span>\n            </span>\n          </li>\n        }\n        \n\n        {\n          newArr.map(num => (\n            <li key={num} className={`page-item ${isActive(num)}`}\n            onClick={() => handlePagination(num)}>\n              <span className=\"page-link\">{num}</span>\n            </li>\n          ))\n        }\n        \n        {\n          page < total &&\n          <li className=\"page-item\"\n          onClick={() => handlePagination(page + 1)}>\n            <span className=\"page-link\" aria-label=\"Next\">\n              <span aria-hidden=\"true\">&raquo;</span>\n            </span>\n          </li>\n        }\n      </ul>\n    </nav>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { IBlog, IParams, RootStore } from '../../utils/TypeScript'\n\nimport { deleteBlog } from '../../redux/actions/blogAction'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardHoriz: React.FC<IProps> = ({blog}) => {\n  const { slug } = useParams<IParams>()\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const handleDelete = () => {\n    if(!auth.user || !auth.access_token) return;\n\n    if(slug !== auth.user._id) return dispatch({\n      type: 'ALERT',\n      payload: { errors: 'Invalid Authentication.' }\n    })\n\n    if(window.confirm(\"Do you want to delete this post?\")){\n      dispatch(deleteBlog(blog, auth.access_token))\n    }\n  }\n\n  return (\n    <div className=\"card mb-3\" style={{minWidth: \"260px\"}}>\n      <div className=\"row g-0 p-2\">\n        <div className=\"col-md-4\" style={{\n          minHeight: '150px', maxHeight: '170px', overflow: 'hidden'\n        }}>\n          {\n            blog.thumbnail && \n            <>\n              {\n                typeof(blog.thumbnail) === 'string'\n                ? <Link to={`/blog/${blog._id}`}>\n                    <img src={blog.thumbnail} \n                    className=\"w-100 h-100\" \n                    alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n                </Link>\n                :<img src={URL.createObjectURL(blog.thumbnail)} \n                className=\"w-100 h-100\" \n                alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n              }\n            </>\n          }\n          \n        </div>\n        \n        <div className=\"col-md-8\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">\n              <Link to={`/blog/${blog._id}`}\n              className=\"text-capitalize text-decoration-none\">\n                {blog.title}\n              </Link>\n            </h5>\n            <p className=\"card-text\">{blog.description}</p>\n\n            {\n              blog.title &&\n              <div className=\"card-text d-flex justify-content-between\n                align-items-center\"\n              >\n                {\n                  (auth.user && slug === auth.user._id) &&\n                  <div style={{cursor: 'pointer'}}>\n                    <Link to={`/update_blog/${blog._id}`}>\n                      <i className=\"fas fa-edit\" title=\"edit\" />\n                    </Link>\n\n                    <i className=\"fas fa-trash text-danger mx-3\" \n                    title=\"edit\" onClick={handleDelete} />\n                  </div>\n                }\n                <small className=\"text-muted\">\n                  {new Date(blog.createdAt).toLocaleString()}\n                </small>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CardHoriz\n","import { Dispatch } from 'redux'\nimport { ALERT, IAlertType } from '../types/alertType'\n\nimport { postAPI, getAPI, patchAPI, deleteAPI } from '../../utils/FetchData'\nimport { ICategory } from '../../utils/TypeScript'\n\nimport { \n  CREATE_CATEGORY, \n  ICategoryType, \n  GET_CATEGORIES,\n  UPDATE_CATEGORY,\n  DELETE_CATEGORY\n} from '../types/categoryType'\n\nimport { checkTokenExp } from '../../utils/checkTokenExp'\n\nexport const createCategory = (name: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await postAPI('category', { name }, access_token)\n\n    dispatch({\n      type: CREATE_CATEGORY,\n      payload: res.data.newCategory\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const getCategories = () => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  try {\n    dispatch({ type: ALERT, payload: { loading: true }})\n\n    const res = await getAPI('category')\n    \n    dispatch({\n      type: GET_CATEGORIES,\n      payload: res.data.categories\n    })\n\n    dispatch({ type: ALERT, payload: { loading: false }})\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const updateCategory = (data: ICategory, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n\n    dispatch({ type: UPDATE_CATEGORY, payload: data })\n\n    await patchAPI(`category/${data._id}`, { \n      name: data.name \n    }, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}\n\nexport const deleteCategory = (id: string, token: string) => \nasync(dispatch: Dispatch<IAlertType | ICategoryType>) => {\n  const result = await checkTokenExp(token, dispatch)\n  const access_token = result ? result : token\n  try {\n    \n    dispatch({ type: DELETE_CATEGORY, payload: id })\n    await deleteAPI(`category/${id}`, access_token)\n\n  } catch (err: any) {\n    dispatch({ type: ALERT, payload: { errors: err.response.data.msg }})\n  }\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { RootStore, IBlog, InputChange } from '../../utils/TypeScript'\n\n\ninterface IProps {\n  blog: IBlog,\n  setBlog: (blog: IBlog) => void\n}\n\nconst CreateForm: React.FC<IProps> = ({blog, setBlog}) => {\n  const { categories } = useSelector((state: RootStore) => state)\n\n  const handleChangeInput = (e: InputChange) => {\n    const { value, name } = e.target\n    setBlog({...blog, [name]:value})\n  }\n\n  const handleChangeThumbnail = (e: InputChange) => {\n    const target = e.target as HTMLInputElement\n    const files = target.files\n    if(files){\n      const file = files[0]\n      setBlog({...blog, thumbnail: file})\n    }\n  }\n\n  return (\n    <form>\n      <div className=\"form-group position-relative\">\n        <input type=\"text\" className=\"form-control\"\n        value={blog.title} name=\"title\" \n        onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.title.length}/50\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <input type=\"file\" className=\"form-control\"\n        accept=\"image/*\" onChange={handleChangeThumbnail} />\n      </div>\n\n      <div className=\"form-group position-relative\">\n        <textarea className=\"form-control\" rows={4}\n        value={blog.description} style={{resize: 'none'}}\n        name=\"description\" onChange={handleChangeInput} />\n\n        <small className=\"text-muted position-absolute\"\n        style={{ bottom: 0, right: '3px', opacity: '0.3'}}>\n          {blog.description.length}/200\n        </small>\n      </div>\n\n      <div className=\"form-group my-3\">\n        <select className=\"form-control text-capitalize\"\n        value={blog.category} name=\"category\"\n        onChange={handleChangeInput}>\n          <option value=\"\">Choose a category</option>\n          {\n            categories.map(category => (\n              <option key={category._id} value={category._id}>\n                {category.name}\n              </option>\n            ))\n          }\n        </select>\n      </div>\n    </form>\n  )\n}\n\nexport default CreateForm\n","import React, { useEffect, useRef, useCallback } from 'react'\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nimport { useDispatch } from 'react-redux'\n\nimport { checkImage, imageUpload } from '../../utils/ImageUpload'\nimport { ALERT } from '../../redux/types/alertType'\n\ninterface IProps {\n  setBody: (value: string) => void\n  body: string\n}\n\nconst Quill: React.FC<IProps> = ({setBody, body}) => {\n  const dispatch = useDispatch()\n  const quillRef = useRef<ReactQuill>(null)\n\n  const modules = { toolbar: { container }}\n\n  // Custom image\n  const handleChangeImage = useCallback(() => {\n    const input = document.createElement('input')\n    input.type = \"file\"\n    input.accept = \"image/*\"\n    input.click()\n\n    input.onchange = async () => {\n      const files = input.files\n      if(!files) return dispatch({\n        type: ALERT, payload: { errors: 'File does not exist.'}\n      });\n\n      const file = files[0]\n      const check = checkImage(file)\n      if(check) return dispatch({ type: ALERT, payload: { errors: check } });\n      \n      dispatch({ type: ALERT, payload: { loading: true } })\n      const photo = await imageUpload(file)\n\n      const quill = quillRef.current;\n      const range = quill?.getEditor().getSelection()?.index\n      if(range !== undefined){\n        quill?.getEditor().insertEmbed(range, 'image', `${photo.url}`)\n      }\n\n      dispatch({ type: ALERT, payload: { loading: false } })\n    }\n  },[dispatch])\n\n\n  useEffect(() => {\n    const quill = quillRef.current;\n    if(!quill) return;\n\n    let toolbar = quill.getEditor().getModule('toolbar')\n    toolbar.addHandler('image', handleChangeImage)\n  },[handleChangeImage])\n\n  return (\n    <div>\n      <ReactQuill theme=\"snow\"\n      modules={modules}\n      placeholder=\"Write somethings...\"\n      onChange={e => setBody(e)}\n      value={body}\n      ref={quillRef} />\n    </div>\n  )\n}\n\nlet container = [\n  [{ 'font': [] }],\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\n\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n  ['blockquote', 'code-block'],\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\n  [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n  [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n  [{ 'direction': 'rtl' }],                         // text direction\n  [{ 'align': [] }],\n\n  ['clean', 'link', 'image','video']\n]\n\nexport default Quill\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { RootStore, IBlog, IUser } from '../utils/TypeScript'\nimport { validCreateBlog, shallowEqual } from '../utils/Valid'\nimport { getAPI } from '../utils/FetchData'\n\nimport NotFound from '../components/global/NotFound'\nimport CreateForm from '../components/cards/CreateForm'\nimport CardHoriz from '../components/cards/CardHoriz'\n\nimport ReactQuill from '../components/editor/ReactQuill'\n\nimport { ALERT } from '../redux/types/alertType'\n\nimport { createBlog, updateBlog } from '../redux/actions/blogAction'\n\ninterface IProps {\n  id?: string\n}\nconst CreateBlog: React.FC<IProps> = ({id}) => {\n  const initState = {\n    user: '',\n    title: '',\n    content: '',\n    description: '',\n    thumbnail: '',\n    category: '',\n    createdAt: new Date().toISOString()\n  }\n\n  const [blog, setBlog] = useState<IBlog>(initState)\n  const [body, setBody] = useState('')\n\n  const divRef = useRef<HTMLDivElement>(null)\n  const [text, setText] = useState('')\n\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const [oldData, setOldData] = useState<IBlog>(initState)\n\n  useEffect(() => {\n    if(!id) return;\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setBody(res.data.content)\n      setOldData(res.data)\n    })\n    .catch(err => console.log(err))\n\n    const initData = {\n      user: '',\n      title: '',\n      content: '',\n      description: '',\n      thumbnail: '',\n      category: '',\n      createdAt: new Date().toISOString()\n    }\n\n    return () => {\n      setBlog(initData)\n      setBody('')\n      setOldData(initData)\n    }\n  },[id])\n\n  useEffect(() => {\n    const div = divRef.current;\n    if(!div) return;\n\n    const text = (div?.innerText as string)\n    setText(text)\n  },[body])\n\n  const handleSubmit = async() => {\n    if(!auth.access_token) return;\n\n    const check = validCreateBlog({...blog, content: text})\n    if(check.errLength !== 0){\n      return dispatch({ type: ALERT, payload: { errors: check.errMsg } })\n    }\n\n    let newData = {...blog, content: body}\n\n    if(id){\n      if((blog.user as IUser)._id !== auth.user?._id)\n        return dispatch({\n          type: ALERT,\n          payload: { errors: 'Invalid Authentication.' }\n        })\n\n      const result = shallowEqual(oldData, newData)\n      if(result) return dispatch({\n        type: ALERT,\n        payload: { errors: 'The data does not change.' }\n      })\n\n      dispatch(updateBlog(newData, auth.access_token))\n    }else{\n      dispatch(createBlog(newData, auth.access_token))\n    }\n  }\n\n\n  if(!auth.access_token) return <NotFound />;\n  return (\n    <div className=\"my-4 create_blog\">\n\n      <div className=\"row mt-4\">\n        <div className=\"col-md-6\">\n          <h5>Create</h5>\n          <CreateForm blog={blog} setBlog={setBlog} />\n        </div>\n\n        <div className=\"col-md-6\">\n          <h5>Preview</h5>\n          <CardHoriz  blog={blog} />\n        </div>\n      </div>  \n\n      <ReactQuill setBody={setBody} body={body} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <small>{text.length}</small>\n      \n      <button className=\"btn btn-dark mt-3 d-block mx-auto\"\n      onClick={handleSubmit}>\n        { id ? 'Update Post' : 'Create Post' }\n      </button>\n    </div>\n  )\n}\n\nexport default CreateBlog\n","import React from 'react'\nimport { Link} from 'react-router-dom'\n\nimport { IBlog } from '../../utils/TypeScript'\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardVert: React.FC<IProps> = ({blog}) => {\n  return (\n    <div className=\"card\">\n      {\n        typeof(blog.thumbnail) === 'string' &&\n        <img src={blog.thumbnail} className=\"card-img-top\" alt=\"...\"\n        style={{height: '180px', objectFit: 'cover'}} />\n      }\n\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">\n          <Link to={`/blog/${blog._id}`} style={{\n            textDecoration: 'none', textTransform: 'capitalize'\n          }}>\n            {blog.title.slice(0,50) + '...'}\n          </Link>\n        </h5>\n        <p className=\"card-text\">\n          { blog.description.slice(0,100) + '...' }\n        </p>\n\n        <p className=\"card-text d-flex justify-content-between\">\n          <small className=\"text-muted text-capitalize\">\n            {\n              typeof(blog.user) !== 'string' &&\n              <Link to={`/profile/${blog.user._id}`} style={{\n                textDecoration: 'none', textTransform: 'capitalize'\n              }}>\n                By: {blog.user.name}\n              </Link>\n            }\n          </small>\n\n          <small className=\"text-muted\">\n            { new Date(blog.createdAt).toLocaleString() }\n          </small>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default CardVert\n","import { IUser } from '../../utils/TypeScript'\n\nexport const GET_OTHER_INFO = \"GET_OTHER_INFO\"\n\n\nexport interface IGetOtherInfoType {\n  type: typeof GET_OTHER_INFO,\n  payload: IUser\n}","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { RootStore } from '../utils/TypeScript'\n\nimport CardVert from '../components/cards/CardVert'\nimport Loading from '../components/global/Loading'\n\nconst Home = () => {\n  const { homeBlogs } = useSelector((state: RootStore) => state)\n\n\n  if(homeBlogs.length === 0) return <Loading />;\n  return (\n    <div className=\"home_page\">\n      {\n        homeBlogs.map(homeBlog => (\n          <div key={homeBlog._id}>\n            {\n              homeBlog.count > 0 &&\n              <>\n                <h3>\n                  <Link to={ `/blogs/${(homeBlog.name).toLowerCase()}` }>\n                    { homeBlog.name } <small>({ homeBlog.count })</small>\n                  </Link>\n                </h3>\n                <hr className=\"mt-1\" />\n\n                <div className=\"home_blogs\">\n                  {\n                    homeBlog.blogs.map(blog => (\n                      <CardVert key={blog._id} blog={blog} />\n                    ))\n                  }\n                </div>\n              </>\n            }\n\n            {\n              homeBlog.count > 4 && \n              <Link className=\"text-end d-block mt-2 mb-3 \n              text-decoration-none\"\n              to={`/blogs/${homeBlog.name}`}>\n                Read more &gt;&gt;\n              </Link>\n            }\n          </div>\n        ))\n      }\n    </div>\n  )\n}\n\nexport default Home\n","import axios from 'axios'\n\n\nexport const postAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.post(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\n\nexport const getAPI = async (url: string, token?:string) => {\n  const res = await axios.get(`/api/${url}`, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\nexport const patchAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.patch(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\n\nexport const putAPI = async (url: string, post: object, token?:string) => {\n  const res = await axios.put(`/api/${url}`, post, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}\n\n\nexport const deleteAPI = async (url: string, token?:string) => {\n  const res = await axios.delete(`/api/${url}`, {\n    headers: { Authorization: token }\n  })\n\n  return res;\n}","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { IParams } from '../../utils/TypeScript'\nimport { postAPI } from '../../utils/FetchData'\nimport { showErrMsg, showSuccessMsg } from '../../components/alert/Alert'\n\nconst Active = () => {\n  const { slug }: IParams = useParams()\n  const [err, setErr] = useState('')\n  const [success, setSuccess] = useState('')\n\n  useEffect(() => {\n    if(slug){\n      postAPI('active', { active_token: slug })\n      .then(res => setSuccess(res.data.msg))\n      .catch(err => setErr(err.response.data.msg))\n    }\n  },[slug])\n\n  return (\n    <div>\n      { err && showErrMsg(err) }\n      { success && showSuccessMsg(success) }\n    </div>\n  )\n}\n\nexport default Active\n"],"sourceRoot":""}