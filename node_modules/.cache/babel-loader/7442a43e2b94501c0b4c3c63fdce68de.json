{"ast":null,"code":"import React from'react';import{Link,useParams}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{deleteBlog}from'../../redux/actions/blogAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardHoriz=function CardHoriz(_ref){var blog=_ref.blog;var _useParams=useParams(),slug=_useParams.slug;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var handleDelete=function handleDelete(){if(!auth.user||!auth.access_token)return;if(slug!==auth.user._id)return dispatch({type:'ALERT',payload:{errors:'Invalid Authentication.'}});if(window.confirm(\"Do you want to delete this post?\")){dispatch(deleteBlog(blog,auth.access_token));}};return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",style:{minWidth:\"260px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0 p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",style:{minHeight:'150px',maxHeight:'170px',overflow:'hidden'},children:blog.thumbnail&&/*#__PURE__*/_jsx(_Fragment,{children:typeof blog.thumbnail==='string'?/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blog._id),children:/*#__PURE__*/_jsx(\"img\",{src:blog.thumbnail,className:\"w-100 h-100\",alt:\"thumbnail\",style:{objectFit:'cover'}})}):/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(blog.thumbnail),className:\"w-100 h-100\",alt:\"thumbnail\",style:{objectFit:'cover'}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(Link,{to:\"/blog/\".concat(blog._id),className:\"text-capitalize text-decoration-none\",children:blog.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:blog.description}),blog.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-text d-flex justify-content-between align-items-center\",children:[auth.user&&slug===auth.user._id&&/*#__PURE__*/_jsxs(\"div\",{style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(Link,{to:\"/update_blog/\".concat(blog._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\",title:\"edit\"})}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash text-danger mx-3\",title:\"edit\",onClick:handleDelete})]}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:new Date(blog.createdAt).toLocaleString()})]})]})})]})});};export default CardHoriz;","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/components/cards/CardHoriz.tsx"],"names":["React","Link","useParams","useSelector","useDispatch","deleteBlog","CardHoriz","blog","slug","state","auth","dispatch","handleDelete","user","access_token","_id","type","payload","errors","window","confirm","minWidth","minHeight","maxHeight","overflow","thumbnail","objectFit","URL","createObjectURL","title","description","cursor","Date","createdAt","toLocaleString"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { IBlog, IParams, RootStore } from '../../utils/TypeScript'\n\nimport { deleteBlog } from '../../redux/actions/blogAction'\n\n\ninterface IProps {\n  blog: IBlog\n}\n\nconst CardHoriz: React.FC<IProps> = ({blog}) => {\n  const { slug } = useParams<IParams>()\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const handleDelete = () => {\n    if(!auth.user || !auth.access_token) return;\n\n    if(slug !== auth.user._id) return dispatch({\n      type: 'ALERT',\n      payload: { errors: 'Invalid Authentication.' }\n    })\n\n    if(window.confirm(\"Do you want to delete this post?\")){\n      dispatch(deleteBlog(blog, auth.access_token))\n    }\n  }\n\n  return (\n    <div className=\"card mb-3\" style={{minWidth: \"260px\"}}>\n      <div className=\"row g-0 p-2\">\n        <div className=\"col-md-4\" style={{\n          minHeight: '150px', maxHeight: '170px', overflow: 'hidden'\n        }}>\n          {\n            blog.thumbnail && \n            <>\n              {\n                typeof(blog.thumbnail) === 'string'\n                ? <Link to={`/blog/${blog._id}`}>\n                    <img src={blog.thumbnail} \n                    className=\"w-100 h-100\" \n                    alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n                </Link>\n                :<img src={URL.createObjectURL(blog.thumbnail)} \n                className=\"w-100 h-100\" \n                alt=\"thumbnail\" style={{objectFit: 'cover'}} />\n              }\n            </>\n          }\n          \n        </div>\n        \n        <div className=\"col-md-8\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">\n              <Link to={`/blog/${blog._id}`}\n              className=\"text-capitalize text-decoration-none\">\n                {blog.title}\n              </Link>\n            </h5>\n            <p className=\"card-text\">{blog.description}</p>\n\n            {\n              blog.title &&\n              <div className=\"card-text d-flex justify-content-between\n                align-items-center\"\n              >\n                {\n                  (auth.user && slug === auth.user._id) &&\n                  <div style={{cursor: 'pointer'}}>\n                    <Link to={`/update_blog/${blog._id}`}>\n                      <i className=\"fas fa-edit\" title=\"edit\" />\n                    </Link>\n\n                    <i className=\"fas fa-trash text-danger mx-3\" \n                    title=\"edit\" onClick={handleDelete} />\n                  </div>\n                }\n                <small className=\"text-muted\">\n                  {new Date(blog.createdAt).toLocaleString()}\n                </small>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CardHoriz\n"]},"metadata":{},"sourceType":"module"}