{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nguye\\\\Desktop\\\\client\\\\src\\\\components\\\\global\\\\Search.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { getAPI } from '../../utils/FetchData';\nimport CardHoriz from '../cards/CardHoriz';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const [blogs, setBlogs] = useState([]);\n  const {\n    pathname\n  } = useLocation();\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if (search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`);\n        setBlogs(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    }, 400);\n    return () => clearTimeout(delayDebounce);\n  }, [search]);\n  useEffect(() => {\n    setSearch('');\n    setBlogs([]);\n  }, [pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search w-100 position-relative me-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control me-2 w-100\",\n      value: search,\n      placeholder: \"Enter your search...\",\n      onChange: e => setSearch(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), search.length >= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute pt-2 px-1 w-100 rounded\",\n      style: {\n        background: '#eee',\n        zIndex: 10,\n        maxHeight: 'calc(100vh - 100px)',\n        overflow: 'auto'\n      },\n      children: blogs.length ? blogs.map(blog => /*#__PURE__*/_jsxDEV(CardHoriz, {\n        blog: blog\n      }, blog._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center\",\n        children: \"No Blogs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"1ZfOgY+Ag6KeLD+pqZSH+GAeMvo=\", false, function () {\n  return [useLocation];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/components/global/Search.tsx"],"names":["React","useState","useEffect","useLocation","getAPI","CardHoriz","Search","search","setSearch","blogs","setBlogs","pathname","delayDebounce","setTimeout","length","res","data","err","console","log","clearTimeout","e","target","value","background","zIndex","maxHeight","overflow","map","blog","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,SAASC,MAAT,QAAuB,uBAAvB;AAGA,OAAOC,SAAP,MAAsB,oBAAtB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACnB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAU,EAAV,CAAlC;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAeR,WAAW,EAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,aAAa,GAAGC,UAAU,CAAC,YAAY;AAC3C,UAAGN,MAAM,CAACO,MAAP,GAAgB,CAAnB,EAAsB,OAAOJ,QAAQ,CAAC,EAAD,CAAf;;AAEtB,UAAI;AACF,cAAMK,GAAG,GAAG,MAAMX,MAAM,CAAE,sBAAqBG,MAAO,EAA9B,CAAxB;AACAG,QAAAA,QAAQ,CAACK,GAAG,CAACC,IAAL,CAAR;AACD,OAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,KAT+B,EAS7B,GAT6B,CAAhC;AAWA,WAAO,MAAMG,YAAY,CAACR,aAAD,CAAzB;AACD,GAbQ,EAaP,CAACL,MAAD,CAbO,CAAT;AAgBAL,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,SAAS,CAAC,EAAD,CAAT;AACAE,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,GAHQ,EAGP,CAACC,QAAD,CAHO,CAAT;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA,4BACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,yBAA7B;AACA,MAAA,KAAK,EAAEJ,MADP;AACe,MAAA,WAAW,EAAC,sBAD3B;AAEA,MAAA,QAAQ,EAAEc,CAAC,IAAIb,SAAS,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV;AAFxB;AAAA;AAAA;AAAA;AAAA,YADF,EAMIhB,MAAM,CAACO,MAAP,IAAiB,CAAjB,iBACA;AAAK,MAAA,SAAS,EAAC,2CAAf;AACA,MAAA,KAAK,EAAE;AACLU,QAAAA,UAAU,EAAE,MADP;AACeC,QAAAA,MAAM,EAAE,EADvB;AAELC,QAAAA,SAAS,EAAE,qBAFN;AAGLC,QAAAA,QAAQ,EAAE;AAHL,OADP;AAAA,gBAOIlB,KAAK,CAACK,MAAN,GACEL,KAAK,CAACmB,GAAN,CAAUC,IAAI,iBACd,QAAC,SAAD;AAA0B,QAAA,IAAI,EAAEA;AAAhC,SAAgBA,IAAI,CAACC,GAArB;AAAA;AAAA;AAAA;AAAA,cADA,CADF,gBAIE;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXN;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAyBD,CApDD;;GAAMxB,M;UAIiBH,W;;;KAJjBG,M;AAsDN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getAPI } from '../../utils/FetchData'\nimport { IBlog } from '../../utils/TypeScript'\n\nimport CardHoriz from '../cards/CardHoriz'\n\nconst Search = () => {\n  const [search, setSearch] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>([])\n\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if(search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`)\n        setBlogs(res.data)\n      } catch (err) {\n        console.log(err)\n      }\n    }, 400)\n\n    return () => clearTimeout(delayDebounce)\n  },[search])\n\n\n  useEffect(() => {\n    setSearch('')\n    setBlogs([])\n  },[pathname])\n\n  return (\n    <div className=\"search w-100 position-relative me-4\">\n      <input type=\"text\" className=\"form-control me-2 w-100\"\n      value={search} placeholder=\"Enter your search...\"\n      onChange={e => setSearch(e.target.value)}  />\n\n      {\n        search.length >= 2 &&\n        <div className=\"position-absolute pt-2 px-1 w-100 rounded\"\n        style={{\n          background: '#eee', zIndex: 10,\n          maxHeight: 'calc(100vh - 100px)',\n          overflow: 'auto'\n        }}>\n          {\n            blogs.length\n            ? blogs.map(blog => (\n              <CardHoriz key={blog._id} blog={blog} />\n            ))\n            : <h3 className=\"text-center\">No Blogs</h3>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}