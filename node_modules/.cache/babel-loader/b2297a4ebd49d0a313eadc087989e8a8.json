{"ast":null,"code":"import _slicedToArray from\"C:/Users/nguye/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useHistory}from'react-router-dom';import{useSelector}from'react-redux';import LoginPass from'../components/auth/LoginPass';import LoginSMS from'../components/auth/LoginSMS';import SocialLogin from'../components/auth/SocialLogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sms=_useState2[0],setSms=_useState2[1];var history=useHistory();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;useEffect(function(){if(auth.access_token){var url=history.location.search.replace('?','/');return history.push(url);}},[auth.access_token,history]);return/*#__PURE__*/_jsx(\"div\",{className:\"auth_page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth_box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-uppercase text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsx(SocialLogin,{}),sms?/*#__PURE__*/_jsx(LoginSMS,{}):/*#__PURE__*/_jsx(LoginPass,{}),/*#__PURE__*/_jsxs(\"small\",{className:\"row my-2 text-primary\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"col-6\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot_password\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"col-6 text-end\",onClick:function onClick(){return setSms(!sms);},children:sms?'Sign in with password':'Sign in with SMS'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\".concat(history.location.search),style:{color:'crimson'},children:\"Register Now\"})]})]})});};export default Login;","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/pages/login.tsx"],"names":["React","useState","useEffect","Link","useHistory","useSelector","LoginPass","LoginSMS","SocialLogin","Login","sms","setSms","history","state","auth","access_token","url","location","search","replace","push","cursor","color"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,WAAT,KAA4B,aAA5B,CAEA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,C,wFAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,cAAsBR,QAAQ,CAAC,KAAD,CAA9B,wCAAOS,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,iBAAiBC,WAAW,CAAC,SAACQ,KAAD,QAAsBA,CAAAA,KAAtB,EAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAGY,IAAI,CAACC,YAAR,CAAsB,CACpB,GAAIC,CAAAA,GAAG,CAAGJ,OAAO,CAACK,QAAR,CAAiBC,MAAjB,CAAwBC,OAAxB,CAAgC,GAAhC,CAAqC,GAArC,CAAV,CACA,MAAOP,CAAAA,OAAO,CAACQ,IAAR,CAAaJ,GAAb,CAAP,CACD,CACF,CALQ,CAKP,CAACF,IAAI,CAACC,YAAN,CAAoBH,OAApB,CALO,CAAT,CAOA,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,UAAf,wBACE,WAAI,SAAS,CAAC,iCAAd,mBADF,cAGE,KAAC,WAAD,IAHF,CAKIF,GAAG,cAAG,KAAC,QAAD,IAAH,cAAiB,KAAC,SAAD,IALxB,cAOE,eAAO,SAAS,CAAC,uBAAjB,CAAyC,KAAK,CAAE,CAACW,MAAM,CAAE,SAAT,CAAhD,wBACE,aAAM,SAAS,CAAC,OAAhB,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,kBAAT,8BADF,EADF,cAOE,aAAM,SAAS,CAAC,gBAAhB,CAAiC,OAAO,CAAE,yBAAMV,CAAAA,MAAM,CAAC,CAACD,GAAF,CAAZ,EAA1C,UACIA,GAAG,CAAG,uBAAH,CAA6B,kBADpC,EAPF,GAPF,cAmBE,gEAEE,KAAC,IAAD,EAAM,EAAE,oBAAcE,OAAO,CAACK,QAAR,CAAiBC,MAA/B,CAAR,CAAiD,KAAK,CAAE,CAACI,KAAK,CAAE,SAAR,CAAxD,0BAFF,GAnBF,GADF,EADF,CA+BD,CA5CD,CA8CA,cAAeb,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport LoginPass from '../components/auth/LoginPass'\nimport LoginSMS from '../components/auth/LoginSMS'\nimport SocialLogin from '../components/auth/SocialLogin'\n\nimport { RootStore } from '../utils/TypeScript'\n\nconst Login = () => {\n  const [sms, setSms] = useState(false)\n  const history = useHistory()\n\n  const { auth } = useSelector((state: RootStore) => state)\n\n  useEffect(() => {\n    if(auth.access_token) {\n      let url = history.location.search.replace('?', '/')\n      return history.push(url)\n    }\n  },[auth.access_token, history])\n\n  return (\n    <div className=\"auth_page\">\n      <div className=\"auth_box\">\n        <h3 className=\"text-uppercase text-center mb-4\">Login</h3>\n\n        <SocialLogin />\n\n        { sms ? <LoginSMS/> : <LoginPass /> }\n\n        <small className=\"row my-2 text-primary\" style={{cursor: 'pointer'}}>\n          <span className=\"col-6\">\n            <Link to='/forgot_password'>\n              Forgot password?\n            </Link>\n          </span>\n\n          <span className=\"col-6 text-end\" onClick={() => setSms(!sms)}>\n            { sms ? 'Sign in with password' : 'Sign in with SMS' }\n          </span>\n        </small>\n\n        <p>\n          {`You don't have an account? `}\n          <Link to={`/register${history.location.search}`} style={{color: 'crimson'}}>\n            Register Now\n          </Link>\n        </p>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}