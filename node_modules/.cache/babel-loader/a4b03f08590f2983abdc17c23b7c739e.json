{"ast":null,"code":"import React from'react';import{Link,useLocation}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{logout}from'../../redux/actions/authAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(){var _auth$user;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var _useLocation=useLocation(),pathname=_useLocation.pathname;var bfLoginLinks=[{label:'Login',path:'/login'},{label:'Register',path:'/register'}];var afLoginLinks=[{label:'Home',path:'/'},{label:'CreateBlog',path:'/create_blog'}];var navLinks=auth.access_token?afLoginLinks:bfLoginLinks;var isActive=function isActive(pn){if(pn===pathname)return'active';};var handleLogout=function handleLogout(){if(!auth.access_token)return;dispatch(logout(auth.access_token));};return/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto\",children:[navLinks.map(function(link,index){return/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \".concat(isActive(link.path)),children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:link.path,children:link.label})},index);}),((_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.role)==='admin'&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \".concat(isActive(\"/category\")),children:/*#__PURE__*/_jsx(Link,{to:\"/category\",className:\"nav-link\",children:\"Category\"})}),auth.user&&/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-link dropdown-toggle\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"img\",{src:auth.user.avatar,alt:\"avatar\",className:\"avatar\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/profile/\".concat(auth.user._id),children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/\",onClick:handleLogout,children:\"Logout\"})})]})]})]});};export default Menu;","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/components/global/Menu.tsx"],"names":["React","Link","useLocation","useSelector","useDispatch","logout","Menu","state","auth","dispatch","pathname","bfLoginLinks","label","path","afLoginLinks","navLinks","access_token","isActive","pn","handleLogout","map","link","index","user","role","avatar","_id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { RootStore } from '../../utils/TypeScript'\nimport { logout } from '../../redux/actions/authAction'\n\nconst Menu = () => {\n  const { auth } = useSelector((state: RootStore) => state)\n  const dispatch = useDispatch()\n\n  const { pathname } = useLocation()\n\n  const bfLoginLinks = [\n    { label: 'Login', path: '/login' },\n    { label: 'Register', path: '/register' }\n  ]\n\n  const afLoginLinks = [\n    { label: 'Home', path: '/' },\n    { label: 'CreateBlog', path: '/create_blog' }\n  ]\n\n  const navLinks = auth.access_token ? afLoginLinks : bfLoginLinks\n  \n  const isActive = (pn: string) => {\n    if(pn === pathname) return 'active';\n  }\n\n  const handleLogout = () => {\n    if(!auth.access_token) return;\n    dispatch(logout(auth.access_token))\n  }\n\n\n  return (\n    <ul className=\"navbar-nav ms-auto\">\n      {\n        navLinks.map((link, index) => (\n          <li key={index} className={`nav-item ${isActive(link.path)}`}>\n            <Link className=\"nav-link\" to={link.path}>{link.label}</Link>\n          </li>\n        ))\n      }\n\n      {\n        auth.user?.role === 'admin' &&\n        <li className={`nav-item ${isActive(\"/category\")}`}>\n          <Link to=\"/category\" className=\"nav-link\">Category</Link>\n        </li>\n      }\n      \n      {\n        auth.user &&\n        <li className=\"nav-item dropdown\">\n          <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            <img src={auth.user.avatar} alt=\"avatar\" className=\"avatar\" />\n          </span>\n\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link className=\"dropdown-item\" \n              to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n\n            <li><hr className=\"dropdown-divider\" /></li>\n\n            <li>\n              <Link className=\"dropdown-item\" to=\"/\"\n              onClick={handleLogout}>\n                Logout\n              </Link>\n            </li>\n\n          </ul>\n        </li>\n      }\n      \n    </ul>\n  )\n}\n\nexport default Menu\n"]},"metadata":{},"sourceType":"module"}