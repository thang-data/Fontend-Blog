{"ast":null,"code":"import _slicedToArray from\"C:/Users/nguye/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import LiteQuill from'../editor/LiteQuill';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Input=function Input(_ref){var callback=_ref.callback,edit=_ref.edit,setEdit=_ref.setEdit;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),body=_useState2[0],setBody=_useState2[1];var divRef=useRef(null);useEffect(function(){if(edit)setBody(edit.content);},[edit]);var handleSubmit=function handleSubmit(){var div=divRef.current;var text=div===null||div===void 0?void 0:div.innerText;if(!text.trim()){if(setEdit)return setEdit(undefined);return;};callback(body);setBody('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LiteQuill,{body:body,setBody:setBody}),/*#__PURE__*/_jsx(\"div\",{ref:divRef,dangerouslySetInnerHTML:{__html:body},style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark ms-auto d-block px-4 mt-2\",onClick:handleSubmit,children:edit?'Update':'Send'})]});};export default Input;","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/components/comments/Input.tsx"],"names":["React","useState","useRef","useEffect","LiteQuill","Input","callback","edit","setEdit","body","setBody","divRef","content","handleSubmit","div","current","text","innerText","trim","undefined","__html","display"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CAEA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,C,wFASA,GAAMC,CAAAA,KAAuB,CAAG,QAA1BA,CAAAA,KAA0B,MAAiC,IAA9BC,CAAAA,QAA8B,MAA9BA,QAA8B,CAApBC,IAAoB,MAApBA,IAAoB,CAAdC,OAAc,MAAdA,OAAc,CAE/D,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,MAAM,CAAGT,MAAM,CAAiB,IAAjB,CAArB,CAEAC,SAAS,CAAC,UAAM,CACd,GAAGI,IAAH,CAASG,OAAO,CAACH,IAAI,CAACK,OAAN,CAAP,CACV,CAFQ,CAEP,CAACL,IAAD,CAFO,CAAT,CAKA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,GAAG,CAAGH,MAAM,CAACI,OAAnB,CACA,GAAMC,CAAAA,IAAI,CAAIF,GAAJ,SAAIA,GAAJ,iBAAIA,GAAG,CAAEG,SAAnB,CACA,GAAG,CAACD,IAAI,CAACE,IAAL,EAAJ,CAAiB,CACf,GAAGV,OAAH,CAAY,MAAOA,CAAAA,OAAO,CAACW,SAAD,CAAd,CACZ,OACD,EAEDb,QAAQ,CAACG,IAAD,CAAR,CAEAC,OAAO,CAAC,EAAD,CAAP,CACD,CAXD,CAaA,mBACE,oCACE,KAAC,SAAD,EAAW,IAAI,CAAED,IAAjB,CAAuB,OAAO,CAAEC,OAAhC,EADF,cAGE,YAAK,GAAG,CAAEC,MAAV,CAAkB,uBAAuB,CAAE,CACzCS,MAAM,CAAEX,IADiC,CAA3C,CAEG,KAAK,CAAE,CAACY,OAAO,CAAE,MAAV,CAFV,EAHF,cAOE,eAAQ,SAAS,CAAC,wCAAlB,CACA,OAAO,CAAER,YADT,UAEIN,IAAI,CAAG,QAAH,CAAc,MAFtB,EAPF,GADF,CAcD,CArCD,CAuCA,cAAeF,CAAAA,KAAf","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport { IComment } from '../../utils/TypeScript'\nimport LiteQuill from '../editor/LiteQuill'\n\n\ninterface IProps {\n  callback: (body: string) => void\n  edit?: IComment\n  setEdit?:(edit?: IComment) => void\n}\n\nconst Input: React.FC<IProps> = ({ callback, edit, setEdit }) => {\n\n  const [body, setBody] = useState('')\n  const divRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if(edit) setBody(edit.content)\n  },[edit])\n\n\n  const handleSubmit = () => {\n    const div = divRef.current;\n    const text = (div?.innerText as string)\n    if(!text.trim()) {\n      if(setEdit) return setEdit(undefined);\n      return;\n    };\n\n    callback(body)\n\n    setBody('')\n  }\n  \n  return (\n    <div>\n      <LiteQuill body={body} setBody={setBody} />\n\n      <div ref={divRef} dangerouslySetInnerHTML={{\n        __html: body\n      }} style={{display: 'none'}} />\n\n      <button className=\"btn btn-dark ms-auto d-block px-4 mt-2\"\n      onClick={handleSubmit}>\n        { edit ? 'Update' : 'Send' }\n      </button>\n    </div>\n  )\n}\n\nexport default Input\n"]},"metadata":{},"sourceType":"module"}