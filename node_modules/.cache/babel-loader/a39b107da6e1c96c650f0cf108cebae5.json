{"ast":null,"code":"import _slicedToArray from\"C:/Users/nguye/Desktop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import AvatarComment from'./AvatarComment';import AvatarReply from'./AvatarReply';import CommentList from'./CommentList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comments=function Comments(_ref){var comment=_ref.comment;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),showReply=_useState2[0],setShowReply=_useState2[1];var _useState3=useState(2),_useState4=_slicedToArray(_useState3,2),next=_useState4[0],setNext=_useState4[1];useEffect(function(){if(!comment.replyCM)return;setShowReply(comment.replyCM);},[comment.replyCM]);return/*#__PURE__*/_jsxs(\"div\",{className:\"my-3 d-flex\",style:{opacity:comment._id?1:0.5,pointerEvents:comment._id?'initial':'none'},children:[/*#__PURE__*/_jsx(AvatarComment,{user:comment.user}),/*#__PURE__*/_jsxs(CommentList,{comment:comment,showReply:showReply,setShowReply:setShowReply,children:[showReply.slice(0,next).map(function(comment,index){return/*#__PURE__*/_jsxs(\"div\",{style:{opacity:comment._id?1:0.5,pointerEvents:comment._id?'initial':'none'},children:[/*#__PURE__*/_jsx(AvatarReply,{user:comment.user,reply_user:comment.reply_user}),/*#__PURE__*/_jsx(CommentList,{comment:comment,showReply:showReply,setShowReply:setShowReply})]},index);}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},children:showReply.length-next>0?/*#__PURE__*/_jsx(\"small\",{style:{color:'crimson'},onClick:function onClick(){return setNext(next+5);},children:\"See more comments...\"}):showReply.length>2&&/*#__PURE__*/_jsx(\"small\",{style:{color:'teal'},onClick:function onClick(){return setNext(2);},children:\"Hide comments...\"})})]})]});};export default Comments;","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/components/comments/Comments.tsx"],"names":["React","useState","useEffect","AvatarComment","AvatarReply","CommentList","Comments","comment","showReply","setShowReply","next","setNext","replyCM","opacity","_id","pointerEvents","user","slice","map","index","reply_user","cursor","length","color"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAIA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAOA,GAAMC,CAAAA,QAA0B,CAAG,QAA7BA,CAAAA,QAA6B,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAClD,cAAkCN,QAAQ,CAAa,EAAb,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAAwBR,QAAQ,CAAC,CAAD,CAAhC,yCAAOS,IAAP,eAAaC,OAAb,eAEAT,SAAS,CAAC,UAAM,CACd,GAAG,CAACK,OAAO,CAACK,OAAZ,CAAqB,OACrBH,YAAY,CAACF,OAAO,CAACK,OAAT,CAAZ,CACD,CAHQ,CAGP,CAACL,OAAO,CAACK,OAAT,CAHO,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAClCC,OAAO,CAAEN,OAAO,CAACO,GAAR,CAAc,CAAd,CAAkB,GADO,CAElCC,aAAa,CAAER,OAAO,CAACO,GAAR,CAAc,SAAd,CAA0B,MAFP,CAApC,wBAIE,KAAC,aAAD,EAAe,IAAI,CAAEP,OAAO,CAACS,IAA7B,EAJF,cAME,MAAC,WAAD,EACA,OAAO,CAAET,OADT,CAEA,SAAS,CAAEC,SAFX,CAGA,YAAY,CAAEC,YAHd,WAMID,SAAS,CAACS,KAAV,CAAgB,CAAhB,CAAmBP,IAAnB,EAAyBQ,GAAzB,CAA6B,SAACX,OAAD,CAAUY,KAAV,qBAC3B,aAAiB,KAAK,CAAE,CACtBN,OAAO,CAAEN,OAAO,CAACO,GAAR,CAAc,CAAd,CAAkB,GADL,CAEtBC,aAAa,CAAER,OAAO,CAACO,GAAR,CAAc,SAAd,CAA0B,MAFnB,CAAxB,wBAIE,KAAC,WAAD,EACE,IAAI,CAAEP,OAAO,CAACS,IADhB,CAEE,UAAU,CAAET,OAAO,CAACa,UAFtB,EAJF,cASE,KAAC,WAAD,EACE,OAAO,CAAEb,OADX,CAEE,SAAS,CAAEC,SAFb,CAGE,YAAY,CAAEC,YAHhB,EATF,GAAUU,KAAV,CAD2B,EAA7B,CANJ,cAyBE,YAAK,KAAK,CAAE,CAAEE,MAAM,CAAE,SAAV,CAAZ,UAEIb,SAAS,CAACc,MAAV,CAAkBZ,IAAlB,CAAyB,CAAzB,cACE,cAAO,KAAK,CAAE,CAAEa,KAAK,CAAE,SAAT,CAAd,CACF,OAAO,CAAE,yBAAMZ,CAAAA,OAAO,CAACD,IAAI,CAAG,CAAR,CAAb,EADP,kCADF,CAKEF,SAAS,CAACc,MAAV,CAAmB,CAAnB,eACF,cAAO,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAd,CACA,OAAO,CAAE,yBAAMZ,CAAAA,OAAO,CAAC,CAAD,CAAb,EADT,8BARJ,EAzBF,GANF,GADF,CAkDD,CA3DD,CA6DA,cAAeL,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport { IComment } from '../../utils/TypeScript'\n\nimport AvatarComment from './AvatarComment'\nimport AvatarReply from './AvatarReply'\nimport CommentList from './CommentList'\n\n\ninterface IProps {\n  comment: IComment\n}\n\nconst Comments: React.FC<IProps> = ({ comment }) => {\n  const [showReply, setShowReply] = useState<IComment[]>([])\n  const [next, setNext] = useState(2)\n \n  useEffect(() => {\n    if(!comment.replyCM) return;\n    setShowReply(comment.replyCM)\n  },[comment.replyCM])\n\n  return (\n    <div className=\"my-3 d-flex\" style={{\n      opacity: comment._id ? 1 : 0.5,\n      pointerEvents: comment._id ? 'initial' : 'none'\n    }}>\n      <AvatarComment user={comment.user} /> \n\n      <CommentList \n      comment={comment} \n      showReply={showReply}\n      setShowReply={setShowReply}\n      >\n        {\n          showReply.slice(0, next).map((comment, index) => (\n            <div key={index} style={{\n              opacity: comment._id ? 1 : 0.5,\n              pointerEvents: comment._id ? 'initial' : 'none'\n            }}>\n              <AvatarReply\n                user={comment.user}\n                reply_user={comment.reply_user}\n              />\n\n              <CommentList \n                comment={comment} \n                showReply={showReply}\n                setShowReply={setShowReply}\n              />\n            </div>\n          ))\n        }\n\n        <div style={{ cursor: 'pointer' }}>\n          {\n            showReply.length -next > 0\n            ? <small style={{ color: 'crimson' }}\n            onClick={() => setNext(next + 5)}>\n              See more comments...\n            </small>\n            : showReply.length > 2 && \n            <small style={{ color: 'teal' }}\n            onClick={() => setNext(2)}>\n              Hide comments...\n            </small>\n          }\n        </div>\n\n      </CommentList>\n    </div>\n  )\n}\n\nexport default Comments\n"]},"metadata":{},"sourceType":"module"}