{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GoogleLogin = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nrequire(\"./public/styles.css\"); // export interface CustomWindow extends Window {\n//     gapi: any;\n// }\n// declare let window: CustomWindow;\n// declare global {\n//     interface Window { gapi: any; }\n// }\n\n\nvar GoogleLogin = function (_a) {\n  var client_id = _a.client_id,\n      scope = _a.scope,\n      longtitle = _a.longtitle,\n      cookiepolicy = _a.cookiepolicy,\n      height = _a.height,\n      theme = _a.theme,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      isSignedIn = _a.isSignedIn;\n  react_1.useEffect(function () {\n    var script = document.createElement('script');\n    script.src = \"https://apis.google.com/js/platform.js\";\n    script.async = true;\n    script.defer = true;\n    script.addEventListener('load', function () {\n      var gapi = window.gapi;\n      gapi.load('auth2', function () {\n        var auth2 = gapi.auth2.init({\n          client_id: client_id,\n          cookiepolicy: cookiepolicy\n        });\n        gapi.signin2.render('my-signin2', {\n          'scope': scope,\n          'height': height,\n          'longtitle': longtitle,\n          'theme': theme,\n          'onsuccess': !auth2.isSignedIn.get() && onSuccess,\n          'onfailure': !auth2.isSignedIn.get() && onFailure\n        });\n\n        if (!isSignedIn) {\n          if (auth2.isSignedIn.get()) auth2.signOut();\n        }\n      });\n    });\n    document.body.appendChild(script);\n    return function () {\n      document.body.removeChild(script);\n    };\n  }, [client_id, scope, longtitle, cookiepolicy, theme, height, onSuccess, onFailure, isSignedIn]);\n  return react_1.default.createElement(\"div\", {\n    id: \"my-signin2\"\n  });\n};\n\nexports.GoogleLogin = GoogleLogin;\nexports.GoogleLogin.defaultProps = {\n  scope: 'profile email',\n  longtitle: true,\n  height: 50,\n  theme: 'dark',\n  isSignedIn: false,\n  onSuccess: function (googleUser) {\n    console.log(googleUser);\n  },\n  onFailure: function (error) {\n    console.log(error);\n  }\n};\nexports.default = exports.GoogleLogin;","map":{"version":3,"sources":["../src/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GoogleLogin = void 0;\r\nvar react_1 = __importStar(require(\"react\"));\r\nrequire(\"./public/styles.css\");\r\n// export interface CustomWindow extends Window {\r\n//     gapi: any;\r\n// }\r\n// declare let window: CustomWindow;\r\n// declare global {\r\n//     interface Window { gapi: any; }\r\n// }\r\nvar GoogleLogin = function (_a) {\r\n    var client_id = _a.client_id, scope = _a.scope, longtitle = _a.longtitle, cookiepolicy = _a.cookiepolicy, height = _a.height, theme = _a.theme, onSuccess = _a.onSuccess, onFailure = _a.onFailure, isSignedIn = _a.isSignedIn;\r\n    react_1.useEffect(function () {\r\n        var script = document.createElement('script');\r\n        script.src = \"https://apis.google.com/js/platform.js\";\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.addEventListener('load', function () {\r\n            var gapi = window.gapi;\r\n            gapi.load('auth2', function () {\r\n                var auth2 = gapi.auth2.init({\r\n                    client_id: client_id,\r\n                    cookiepolicy: cookiepolicy\r\n                });\r\n                gapi.signin2.render('my-signin2', {\r\n                    'scope': scope,\r\n                    'height': height,\r\n                    'longtitle': longtitle,\r\n                    'theme': theme,\r\n                    'onsuccess': !auth2.isSignedIn.get() && onSuccess,\r\n                    'onfailure': !auth2.isSignedIn.get() && onFailure\r\n                });\r\n                if (!isSignedIn) {\r\n                    if (auth2.isSignedIn.get())\r\n                        auth2.signOut();\r\n                }\r\n            });\r\n        });\r\n        document.body.appendChild(script);\r\n        return function () {\r\n            document.body.removeChild(script);\r\n        };\r\n    }, [client_id, scope, longtitle, cookiepolicy, theme, height, onSuccess, onFailure, isSignedIn]);\r\n    return (react_1.default.createElement(\"div\", { id: \"my-signin2\" }));\r\n};\r\nexports.GoogleLogin = GoogleLogin;\r\nexports.GoogleLogin.defaultProps = {\r\n    scope: 'profile email',\r\n    longtitle: true,\r\n    height: 50,\r\n    theme: 'dark',\r\n    isSignedIn: false,\r\n    onSuccess: function (googleUser) {\r\n        console.log(googleUser);\r\n    },\r\n    onFailure: function (error) {\r\n        console.log(error);\r\n    },\r\n};\r\nexports.default = exports.GoogleLogin;\r\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}