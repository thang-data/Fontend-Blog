{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nguye\\\\Desktop\\\\client\\\\src\\\\pages\\\\blog\\\\[slug].tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getAPI } from '../../utils/FetchData';\nimport Loading from '../../components/global/Loading';\nimport { showErrMsg } from '../../components/alert/Alert';\nimport DisplayBlog from '../../components/blog/DisplayBlog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DetailBlog = () => {\n  _s();\n\n  const id = useParams().slug;\n  const {\n    socket\n  } = useSelector(state => state);\n  const [blog, setBlog] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (!id) return;\n    setLoading(true);\n    getAPI(`blog/${id}`).then(res => {\n      setBlog(res.data);\n      setLoading(false);\n    }).catch(err => {\n      setError(err.response.data.msg);\n      setLoading(false);\n    });\n    return () => setBlog(undefined);\n  }, [id]); // Join Room\n\n  useEffect(() => {\n    if (!id || !socket) return;\n    socket.emit('joinRoom', id);\n    return () => {\n      socket.emit('outRoom', id);\n    };\n  }, [socket, id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4\",\n    children: [error && showErrMsg(error), blog && /*#__PURE__*/_jsxDEV(DisplayBlog, {\n      blog: blog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DetailBlog, \"hsNDent0IlpLuBdqz/lz2/R6hoM=\", false, function () {\n  return [useParams, useSelector];\n});\n\n_c = DetailBlog;\nexport default DetailBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailBlog\");","map":{"version":3,"sources":["C:/Users/nguye/Desktop/client/src/pages/blog/[slug].tsx"],"names":["React","useState","useEffect","useParams","useSelector","getAPI","Loading","showErrMsg","DisplayBlog","DetailBlog","id","slug","socket","state","blog","setBlog","loading","setLoading","error","setError","then","res","data","catch","err","response","msg","undefined","emit"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAGA,SAASC,MAAT,QAAuB,uBAAvB;AAEA,OAAOC,OAAP,MAAoB,iCAApB;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,OAAOC,WAAP,MAAwB,mCAAxB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACvB,QAAMC,EAAE,GAAGP,SAAS,GAAYQ,IAAhC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAaR,WAAW,CAAES,KAAD,IAAsBA,KAAvB,CAA9B;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,EAAhC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAACQ,EAAJ,EAAQ;AAERO,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEAZ,IAAAA,MAAM,CAAE,QAAOK,EAAG,EAAZ,CAAN,CACCU,IADD,CACMC,GAAG,IAAI;AACXN,MAAAA,OAAO,CAACM,GAAG,CAACC,IAAL,CAAP;AACAL,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJD,EAKCM,KALD,CAKOC,GAAG,IAAI;AACZL,MAAAA,QAAQ,CAACK,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI,GAAnB,CAAR;AACAT,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KARD;AAUA,WAAO,MAAMF,OAAO,CAACY,SAAD,CAApB;AACD,GAhBQ,EAgBP,CAACjB,EAAD,CAhBO,CAAT,CARuB,CA0BvB;;AACAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAACQ,EAAD,IAAO,CAACE,MAAX,EAAmB;AACnBA,IAAAA,MAAM,CAACgB,IAAP,CAAY,UAAZ,EAAwBlB,EAAxB;AAEA,WAAO,MAAM;AACXE,MAAAA,MAAM,CAACgB,IAAP,CAAY,SAAZ,EAAuBlB,EAAvB;AACD,KAFD;AAGD,GAPQ,EAOP,CAACE,MAAD,EAASF,EAAT,CAPO,CAAT;AAUA,MAAGM,OAAH,EAAY,oBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AACZ,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,eACIE,KAAK,IAAIX,UAAU,CAACW,KAAD,CADvB,EAGIJ,IAAI,iBAAI,QAAC,WAAD;AAAa,MAAA,IAAI,EAAEA;AAAnB;AAAA;AAAA;AAAA;AAAA,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA9CD;;GAAML,U;UACON,S,EACQC,W;;;KAFfK,U;AAgDN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { IParams, IBlog, RootStore } from '../../utils/TypeScript'\nimport { getAPI } from '../../utils/FetchData'\n\nimport Loading from '../../components/global/Loading'\nimport { showErrMsg } from '../../components/alert/Alert'\nimport DisplayBlog from '../../components/blog/DisplayBlog'\n\nconst DetailBlog = () => {\n  const id = useParams<IParams>().slug\n  const { socket } = useSelector((state: RootStore) => state)\n\n  const [blog, setBlog] = useState<IBlog>()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  useEffect(() => {\n    if(!id) return;\n\n    setLoading(true)\n\n    getAPI(`blog/${id}`)\n    .then(res => {\n      setBlog(res.data)\n      setLoading(false)\n    })\n    .catch(err => {\n      setError(err.response.data.msg)\n      setLoading(false)\n    })\n\n    return () => setBlog(undefined)\n  },[id])\n\n  // Join Room\n  useEffect(() => {\n    if(!id || !socket) return;\n    socket.emit('joinRoom', id)\n\n    return () => {\n      socket.emit('outRoom', id)\n    }\n  },[socket, id])\n  \n\n  if(loading) return <Loading />;\n  return (\n    <div className=\"my-4\">\n      { error && showErrMsg(error) }\n      \n      { blog && <DisplayBlog blog={blog} /> }\n\n    </div>\n  )\n}\n\nexport default DetailBlog\n"]},"metadata":{},"sourceType":"module"}